(function(){"use strict";function J(l){return function(u){if(Array.isArray(u))return Q(u)}(l)||function(u){if(typeof Symbol<"u"&&u[Symbol.iterator]!=null||u["@@iterator"]!=null)return Array.from(u)}(l)||function(u,c){if(u){if(typeof u=="string")return Q(u,c);var y={}.toString.call(u).slice(8,-1);return y==="Object"&&u.constructor&&(y=u.constructor.name),y==="Map"||y==="Set"?Array.from(u):y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y)?Q(u,c):void 0}}(l)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Q(l,u){(u==null||u>l.length)&&(u=l.length);for(var c=0,y=Array(u);c<u;c++)y[c]=l[c];return y}function P(l){return P=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},P(l)}function I(l,u){for(var c=0;c<u.length;c++){var y=u[c];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(l,j(y.key),y)}}function j(l){var u=function(c,y){if(P(c)!="object"||!c)return c;var t=c[Symbol.toPrimitive];if(t!==void 0){var e=t.call(c,y||"default");if(P(e)!="object")return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(y==="string"?String:Number)(c)}(l,"string");return P(u)=="symbol"?u:u+""}var D=function(){function l(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,l)}return u=l,y=[{key:"getString",value:function(t){return t||t===0?t.toString():""}},{key:"convertToBoolean",value:function(t){return t===!0||t==="true"||t!==!1&&t!=="false"&&arguments.length>1&&arguments[1]!==void 0&&arguments[1]}},{key:"isEmpty",value:function(t){var e=!1;return t?Array.isArray(t)?t.length===0&&(e=!0):P(t)==="object"&&Object.keys(t).length===0&&(e=!0):e=!0,e}},{key:"isNotEmpty",value:function(t){return!l.isEmpty(t)}},{key:"removeItemFromArray",value:function(t,e){var i=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(!Array.isArray(t)||!t.length)return t;var o=i?J(t):t,r=o.indexOf(e);return r!==-1&&o.splice(r,1),o}},{key:"removeArrayEmpty",value:function(t){return Array.isArray(t)&&t.length?t.filter(function(e){return!!e}):[]}},{key:"getRandomInt",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Math.ceil(e),o=Math.floor(t);return Math.floor(Math.random()*(o-i-1))+i}},{key:"regexEscape",value:function(t){return t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}},{key:"normalizeString",value:function(t){return t.normalize("NFD").replace(/[^\w]/g,"")}},{key:"willTextOverflow",value:function(t,e){var i=document.createElement("div");i.style.position="absolute",i.style.visibility="hidden",i.style.whiteSpace="nowrap",i.style.fontSize=window.getComputedStyle(t).fontSize,i.style.fontFamily=window.getComputedStyle(t).fontFamily,i.textContent=e,document.body.appendChild(i);var o=i.clientWidth;return document.body.removeChild(i),o>t.clientWidth}},{key:"replaceDoubleQuotesWithHTML",value:function(t){return t.replace(/"/g,"&quot;")}},{key:"containsHTML",value:function(t){return/<[a-z][\s\S]*>/i.test(t)}},{key:"containsHTMLorJS",value:function(t){return/<([a-z]+)[\s\S]*?>|on\w+="[^"]*"/i.test(t)}}],(c=null)&&I(u.prototype,c),y&&I(u,y),Object.defineProperty(u,"prototype",{writable:!1}),u;var u,c,y}();function T(l){return T=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},T(l)}function k(l,u){return function(c){if(Array.isArray(c))return c}(l)||function(c,y){var t=c==null?null:typeof Symbol<"u"&&c[Symbol.iterator]||c["@@iterator"];if(t!=null){var e,i,o,r,v=[],d=!0,E=!1;try{if(o=(t=t.call(c)).next,y===0){if(Object(t)!==t)return;d=!1}else for(;!(d=(e=o.call(t)).done)&&(v.push(e.value),v.length!==y);d=!0);}catch(A){E=!0,i=A}finally{try{if(!d&&t.return!=null&&(r=t.return(),Object(r)!==r))return}finally{if(E)throw i}}return v}}(l,u)||p(l,u)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function a(l){return function(u){if(Array.isArray(u))return m(u)}(l)||function(u){if(typeof Symbol<"u"&&u[Symbol.iterator]!=null||u["@@iterator"]!=null)return Array.from(u)}(l)||p(l)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function p(l,u){if(l){if(typeof l=="string")return m(l,u);var c={}.toString.call(l).slice(8,-1);return c==="Object"&&l.constructor&&(c=l.constructor.name),c==="Map"||c==="Set"?Array.from(l):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?m(l,u):void 0}}function m(l,u){(u==null||u>l.length)&&(u=l.length);for(var c=0,y=Array(u);c<u;c++)y[c]=l[c];return y}function s(l,u){for(var c=0;c<u.length;c++){var y=u[c];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(l,w(y.key),y)}}function w(l){var u=function(c,y){if(T(c)!="object"||!c)return c;var t=c[Symbol.toPrimitive];if(t!==void 0){var e=t.call(c,y||"default");if(T(e)!="object")return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(y==="string"?String:Number)(c)}(l,"string");return T(u)=="symbol"?u:u+""}var n=function(){function l(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,l)}return u=l,y=[{key:"addClass",value:function(t,e){if(t){var i=e.split(" ");l.getElements(t).forEach(function(o){var r;(r=o.classList).add.apply(r,a(i))})}}},{key:"removeClass",value:function(t,e){if(t){var i=e.split(" ");l.getElements(t).forEach(function(o){var r;(r=o.classList).remove.apply(r,a(i))})}}},{key:"toggleClass",value:function(t,e,i){var o;t&&(i!==void 0&&(o=!!i),l.getElements(t).forEach(function(r){r.classList.toggle(e,o)}))}},{key:"hasClass",value:function(t,e){return!!t&&t.classList.contains(e)}},{key:"hasEllipsis",value:function(t){return!!t&&t.scrollWidth>t.offsetWidth}},{key:"getData",value:function(t,e,i){if(t){var o=t?t.dataset[e]:"";return i==="number"?o=parseFloat(o)||0:o==="true"?o=!0:o==="false"&&(o=!1),o}}},{key:"setData",value:function(t,e,i){t&&(t.dataset[e]=i)}},{key:"setAttr",value:function(t,e,i){t&&t.setAttribute(e,i)}},{key:"setAttrFromEle",value:function(t,e,i,o){var r={};i.forEach(function(v){r[v]=t.getAttribute(v)}),i.forEach(function(v){var d=r[v];(d||o.indexOf(v)!==-1&&d==="")&&e.setAttribute(v,d)})}},{key:"setStyle",value:function(t,e,i){t&&(t.style[e]=i)}},{key:"setStyles",value:function(t,e){t&&e&&Object.keys(e).forEach(function(i){t.style[i]=e[i]})}},{key:"setAria",value:function(t,e,i){if(t){var o=e;o!=="role"&&(o="aria-".concat(o)),t.setAttribute(o,i)}}},{key:"getElements",value:function(t){return t?t.forEach===void 0?[t]:t:[]}},{key:"getElementsBySelector",value:function(){var t,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,o=i!==void 0?i:document;return e!==""&&(t=o.querySelectorAll(e)),t!==void 0?Array.from(t):[]}},{key:"addEvent",value:function(t,e,i){t&&D.removeArrayEmpty(e.split(" ")).forEach(function(o){l.getElements(t).forEach(function(r){r.addEventListener(o,i)})})}},{key:"dispatchEvent",value:function(t,e){var i=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(t){var o=l.getElements(t);setTimeout(function(){o.forEach(function(r){r.dispatchEvent(new CustomEvent(e,{bubbles:i}))})},0)}}},{key:"getAttributesText",value:function(t){var e="";return t&&Object.entries(t).forEach(function(i){var o=k(i,2),r=o[0],v=o[1];v!==void 0&&(e+=" ".concat(r,'="').concat(v,'" '))}),e}},{key:"convertPropToDataAttr",value:function(t){return t?"data-".concat(t).replace(/([A-Z])/g,"-$1").toLowerCase():""}},{key:"changeTabIndex",value:function(t,e){t?l.getElements(t).forEach(function(i){i.tabIndex=e}):console.log(t,"Invalid element provided.")}},{key:"removeEvent",value:function(t,e,i){t&&l.getElements(t).forEach(function(o){o.removeEventListener(e,i)})}}],(c=null)&&s(u.prototype,c),y&&s(u,y),Object.defineProperty(u,"prototype",{writable:!1}),u;var u,c,y}();function L(l,u){var c=Object.keys(l);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(l);u&&(y=y.filter(function(t){return Object.getOwnPropertyDescriptor(l,t).enumerable})),c.push.apply(c,y)}return c}function G(l){for(var u=1;u<arguments.length;u++){var c=arguments[u]!=null?arguments[u]:{};u%2?L(Object(c),!0).forEach(function(y){H(l,y,c[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(c)):L(Object(c)).forEach(function(y){Object.defineProperty(l,y,Object.getOwnPropertyDescriptor(c,y))})}return l}function H(l,u,c){return(u=C(u))in l?Object.defineProperty(l,u,{value:c,enumerable:!0,configurable:!0,writable:!0}):l[u]=c,l}function O(l){return O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},O(l)}function b(l,u){return function(c){if(Array.isArray(c))return c}(l)||function(c,y){var t=c==null?null:typeof Symbol<"u"&&c[Symbol.iterator]||c["@@iterator"];if(t!=null){var e,i,o,r,v=[],d=!0,E=!1;try{if(o=(t=t.call(c)).next,y===0){if(Object(t)!==t)return;d=!1}else for(;!(d=(e=o.call(t)).done)&&(v.push(e.value),v.length!==y);d=!0);}catch(A){E=!0,i=A}finally{try{if(!d&&t.return!=null&&(r=t.return(),Object(r)!==r))return}finally{if(E)throw i}}return v}}(l,u)||f(l,u)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function S(l){return function(u){if(Array.isArray(u))return h(u)}(l)||function(u){if(typeof Symbol<"u"&&u[Symbol.iterator]!=null||u["@@iterator"]!=null)return Array.from(u)}(l)||f(l)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function f(l,u){if(l){if(typeof l=="string")return h(l,u);var c={}.toString.call(l).slice(8,-1);return c==="Object"&&l.constructor&&(c=l.constructor.name),c==="Map"||c==="Set"?Array.from(l):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?h(l,u):void 0}}function h(l,u){(u==null||u>l.length)&&(u=l.length);for(var c=0,y=Array(u);c<u;c++)y[c]=l[c];return y}function g(l,u){for(var c=0;c<u.length;c++){var y=u[c];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(l,C(y.key),y)}}function C(l){var u=function(c,y){if(O(c)!="object"||!c)return c;var t=c[Symbol.toPrimitive];if(t!==void 0){var e=t.call(c,y||"default");if(O(e)!="object")return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(y==="string"?String:Number)(c)}(l,"string");return O(u)=="symbol"?u:u+""}var V,W={13:"onEnterPress",38:"onUpArrowPress",40:"onDownArrowPress",46:"onBackspaceOrDeletePress",8:"onBackspaceOrDeletePress"},z=["autofocus","disabled","multiple","required"],K=["autofocus","class","disabled","id","multiple","name","placeholder","required"],_=["additionalClasses","additionalDropboxClasses","additionalDropboxContainerClasses","additionalToggleButtonClasses","aliasKey","allOptionsSelectedText","allowNewOption","alwaysShowSelectedOptionsCount","alwaysShowSelectedOptionsLabel","ariaLabelledby","ariaLabelText","ariaLabelClearButtonText","ariaLabelTagClearButtonText","ariaLabelSearchClearButtonText","autoSelectFirstOption","clearButtonText","descriptionKey","disableAllOptionsSelectedText","disableOptionGroupCheckbox","disableSelectAll","disableValidation","dropboxWidth","dropboxWrapper","emptyValue","enableSecureText","focusSelectedOptionOnOpen","hasOptionDescription","hideClearButton","hideValueTooltipOnSelectAll","keepAlwaysOpen","labelKey","markSearchResults","maxValues","maxWidth","minValues","moreText","noOfDisplayValues","noOptionsText","noSearchResultsText","optionHeight","optionSelectedText","optionsCount","optionsSelectedText","popupDropboxBreakpoint","popupPosition","position","search","searchByStartsWith","searchDelay","searchFormLabel","searchGroup","searchNormalize","searchPlaceholderText","selectAllOnlyVisible","selectAllText","setValueAsArray","showDropboxAsPopup","showOptionsOnlyOnSearch","showSelectedOptionsFirst","showValueAsTags","silentInitialValueSet","textDirection","tooltipAlignment","tooltipFontSize","tooltipMaxWidth","updatePositionThrottle","useGroupValue","valueKey","zIndex"],$=function(){function l(t){(function(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")})(this,l);try{this.createSecureTextElements(),this.setProps(t),this.setDisabledOptions(t.disabledOptions),this.setOptions(t.options),this.render()}catch(e){console.warn("Couldn't initiate Virtual Select"),console.error(e)}}return u=l,c=[{key:"render",value:function(){if(this.$ele){var t=this.uniqueId,e="vscomp-wrapper",i="vscomp-toggle-button",o=this.showValueAsTags?"":this.getTooltipAttrText(this.placeholder,!0,!0),r=this.getTooltipAttrText(this.clearButtonText),v=this.ariaLabelledby?'aria-labelledby="'.concat(this.ariaLabelledby,'"'):"",d=this.ariaLabelText?'aria-label="'.concat(this.ariaLabelText,'"'):"",E=this.ariaLabelClearButtonText?'aria-label="'.concat(this.ariaLabelClearButtonText,'"'):"",A=!1;this.additionalClasses&&(e+=" ".concat(this.additionalClasses)),this.additionalToggleButtonClasses&&(i+=" ".concat(this.additionalToggleButtonClasses)),this.multiple&&(e+=" multiple",this.disableSelectAll||(e+=" has-select-all")),this.hideClearButton||(e+=" has-clear-button"),this.keepAlwaysOpen?(e+=" keep-always-open",A=!0):e+=" closed",this.showAsPopup&&(e+=" show-as-popup"),this.hasSearch&&(e+=" has-search-input"),this.showValueAsTags&&(e+=" show-value-as-tags"),this.textDirection&&(e+=" text-direction-".concat(this.textDirection)),this.popupPosition&&(e+=" popup-position-".concat(this.popupPosition.toLowerCase()));var x='<div id="vscomp-ele-wrapper-'.concat(t,'" class="vscomp-ele-wrapper ').concat(e,`" tabindex="0"
        role="combobox" aria-haspopup="listbox" aria-controls="vscomp-dropbox-container-`).concat(t,`"
        aria-expanded="`).concat(A,'" ').concat(v," ").concat(d,`>
        <input type="hidden" name="`).concat(this.name,`" class="vscomp-hidden-input">
        <div class="`).concat(i,`">
          <div class="vscomp-value" `).concat(o,`>
            `).concat(this.placeholder,`
          </div>
          <div class="vscomp-arrow"></div>
          <div class="vscomp-clear-button toggle-button-child" `).concat(r,` 
          tabindex="-1" role="button" `).concat(E,`>
            <i class="vscomp-clear-icon"></i>
          </div>
        </div>

        `).concat(this.renderDropbox({wrapperClasses:e}),`
      </div>`);this.$ele.innerHTML=x,this.$body=document.querySelector("body"),this.$wrapper=this.$ele.querySelector(".vscomp-wrapper"),this.hasDropboxWrapper?(this.$allWrappers=[this.$wrapper,this.$dropboxWrapper],this.$dropboxContainer=this.$dropboxWrapper.querySelector(".vscomp-dropbox-container"),n.addClass(this.$dropboxContainer,"pop-comp-wrapper")):(this.$allWrappers=[this.$wrapper],this.$dropboxContainer=this.$wrapper.querySelector(".vscomp-dropbox-container")),this.$toggleButton=this.$ele.querySelector(".vscomp-toggle-button"),this.$clearButton=this.$ele.querySelector(".vscomp-clear-button"),this.$valueText=this.$ele.querySelector(".vscomp-value"),this.$hiddenInput=this.$ele.querySelector(".vscomp-hidden-input"),this.$dropbox=this.$dropboxContainer.querySelector(".vscomp-dropbox"),this.$dropboxCloseButton=this.$dropboxContainer.querySelector(".vscomp-dropbox-close-button"),this.$dropboxContainerBottom=this.$dropboxContainer.querySelector(".vscomp-dropbox-container-bottom"),this.$dropboxContainerTop=this.$dropboxContainer.querySelector(".vscomp-dropbox-container-top"),this.$search=this.$dropboxContainer.querySelector(".vscomp-search-wrapper"),this.$optionsContainer=this.$dropboxContainer.querySelector(".vscomp-options-container"),this.$optionsList=this.$dropboxContainer.querySelector(".vscomp-options-list"),this.$options=this.$dropboxContainer.querySelector(".vscomp-options"),this.$noOptions=this.$dropboxContainer.querySelector(".vscomp-no-options"),this.$noSearchResults=this.$dropboxContainer.querySelector(".vscomp-no-search-results"),this.afterRenderWrapper()}}},{key:"renderDropbox",value:function(t){var e=t.wrapperClasses,i=this.dropboxWrapper!=="self"?document.querySelector(this.dropboxWrapper):null,o="vscomp-dropbox";this.additionalDropboxClasses&&(o+=" ".concat(this.additionalDropboxClasses));var r="vscomp-dropbox-container";this.additionalDropboxContainerClasses&&(r+=" ".concat(this.additionalDropboxContainerClasses));var v='<div id="vscomp-dropbox-container-'.concat(this.uniqueId,'" role="listbox" class="').concat(r,`">
        <div class="vscomp-dropbox-container-top" aria-hidden="true" tabindex="-1">&nbsp;</div>
        <div class="`).concat(o,`">
          <div class="vscomp-search-wrapper"></div>

          <div class="vscomp-options-container">
            <div class="vscomp-options-loader"></div>

            <div class="vscomp-options-list">
              <div class="vscomp-options"></div>
            </div>
          </div>

          <div class="vscomp-options-bottom-freezer"></div>
          <div class="vscomp-no-options">`).concat(this.noOptionsText,`</div>
          <div class="vscomp-no-search-results">`).concat(this.noSearchResultsText,`</div>

          <span class="vscomp-dropbox-close-button"><i class="vscomp-clear-icon"></i></span>
        </div>
        <div class="vscomp-dropbox-container-bottom" aria-hidden="true" tabindex="-1">&nbsp;</div>
      </div>`);if(i){var d=document.createElement("div");return this.$dropboxWrapper=d,this.hasDropboxWrapper=!0,d.innerHTML=v,i.appendChild(d),n.addClass(d,"vscomp-dropbox-wrapper ".concat(e)),this.keepAlwaysOpen||(n.setAttr(d,"tabindex","-1"),n.setAria(d,"hidden",!0)),""}return this.hasDropboxWrapper=!1,v}},{key:"renderOptions",value:function(){var t,e=this,i="",o=this.getVisibleOptions(),r="",v="",d=!(!this.markSearchResults||!this.searchValue),E=this.labelRenderer,A=this.disableOptionGroupCheckbox,x=this.uniqueId,M=this.searchGroup,F=typeof E=="function",Z=D.convertToBoolean,U="";if(d&&(t=new RegExp("(".concat(D.regexEscape(this.searchValue),")(?!([^<]+)?>)"),"gi")),this.multiple&&(r='<span class="checkbox-icon"></span>'),this.allowNewOption){var tt=this.getTooltipAttrText("New Option");v='<span class="vscomp-new-option-icon" '.concat(tt,"></span>")}o.forEach(function(B){var N,Y=B.index,X="vscomp-option",R=e.getTooltipAttrText("",!0,!0),q=r,it="",ot="",nt="",st="",et="-1",at=Z(B.isSelected),rt="";if(B.classNames&&(X+=" ".concat(B.classNames)),B.isFocused&&(et="0",X+=" focused"),B.isDisabled&&(X+=" disabled",rt='aria-disabled="true"'),B.isGroupTitle&&(U=B.label,X+=" group-title",A&&(q="")),at&&(X+=" selected"),B.isGroupOption){var lt="";X+=" group-option",nt='data-group-index="'.concat(B.groupIndex,'"'),B.customData?(U=B.customData.group_name!==void 0?"".concat(B.customData.group_name,", "):"",lt=B.customData.description!==void 0?" ".concat(B.customData.description,","):"",st='aria-label="'.concat(U," ").concat(B.label,", ").concat(lt,'"')):st='aria-label="'.concat(U,", ").concat(B.label,'"')}N=F?E(B):B.label,B.description&&(ot='<div class="vscomp-option-description" '.concat(R,">").concat(B.description,"</div>")),B.isCurrentNew?(X+=" current-new",it+=v):!d||B.isGroupTitle&&!M||(N=N.replace(t,"<mark>$1</mark>")),i+='<div role="option" aria-selected="'.concat(at,'" id="vscomp-option-').concat(x,"-").concat(Y,`"
          class="`).concat(X,'" data-value="').concat(B.value,'" data-index="').concat(Y,'" data-visible-index="').concat(B.visibleIndex,`"
          tabindex=`).concat(et," ").concat(nt," ").concat(rt," ").concat(st,`
        >
          `).concat(q,`
          <span class="vscomp-option-text" `).concat(R,`>
            `).concat(N,`
          </span>
          `).concat(ot,`
          `).concat(it,`
        </div>`)}),U="",this.$options.innerHTML=i,this.$visibleOptions=this.$options.querySelectorAll(".vscomp-option"),this.afterRenderOptions()}},{key:"renderSearch",value:function(){if(this.hasSearchContainer){var t="",e="";if(this.multiple&&!this.disableSelectAll&&(t='<span class="vscomp-toggle-all-button" tabindex="0" aria-label="'.concat(this.selectAllText,`">
          <span class="checkbox-icon vscomp-toggle-all-checkbox"></span>
          <span class="vscomp-toggle-all-label">`).concat(this.selectAllText,`</span>
        </span>`)),this.hasSearch){var i=this.ariaLabelSearchClearButtonText?'aria-label="'.concat(this.ariaLabelSearchClearButtonText,'"'):"";e='<label for="vscomp-search-input-'.concat(this.uniqueId,`" class="vscomp-search-label"
        id="vscomp-search-label-`).concat(this.uniqueId,`"
      >
        `).concat(this.searchFormLabel,`
      </label>
      <input type="text" class="vscomp-search-input" placeholder="`).concat(this.searchPlaceholderText,`"
        id="vscomp-search-input-`).concat(this.uniqueId,`">
      <span class="vscomp-search-clear" role="button" `).concat(i,">&times;</span>")}var o=`<div class="vscomp-search-container">
        `.concat(t,`
        `).concat(e,`
      </div>`);this.$search.innerHTML=o,this.$searchInput=this.$dropboxContainer.querySelector(".vscomp-search-input"),this.$searchClear=this.$dropboxContainer.querySelector(".vscomp-search-clear"),this.$toggleAllButton=this.$dropboxContainer.querySelector(".vscomp-toggle-all-button"),this.$toggleAllCheckbox=this.$dropboxContainer.querySelector(".vscomp-toggle-all-checkbox"),this.addEvent(this.$searchInput,"input","onSearch"),this.addEvent(this.$searchClear,"click keydown","onSearchClear"),this.addEvent(this.$toggleAllButton,"click","onToggleAllOptions"),this.addEvent(this.$dropboxContainerBottom,"focus","onDropboxContainerTopOrBottomFocus"),this.addEvent(this.$dropboxContainerTop,"focus","onDropboxContainerTopOrBottomFocus")}}},{key:"addEvents",value:function(){this.addEvent(document,"click","onDocumentClick"),this.addEvent(this.$allWrappers,"keydown","onKeyDown"),this.addEvent(this.$toggleButton,"click keydown","onToggleButtonPress"),this.addEvent(this.$clearButton,"click keydown","onClearButtonClick"),this.addEvent(this.$dropboxContainer,"click","onDropboxContainerClick"),this.addEvent(this.$dropboxCloseButton,"click","onDropboxCloseButtonClick"),this.addEvent(this.$optionsContainer,"scroll","onOptionsScroll"),this.addEvent(this.$options,"click","onOptionsClick"),this.addEvent(this.$options,"mouseover","onOptionsMouseOver"),this.addEvent(this.$options,"touchmove","onOptionsTouchMove"),this.addMutationObserver()}},{key:"addEvent",value:function(t,e,i){var o=this;t&&D.removeArrayEmpty(e.split(" ")).forEach(function(r){var v="".concat(i,"-").concat(r),d=o.events[v];d||(d=o[i].bind(o),o.events[v]=d),n.addEvent(t,r,d)})}},{key:"removeEvents",value:function(){this.removeEvent(document,"click","onDocumentClick"),this.removeEvent(this.$allWrappers,"keydown","onKeyDown"),this.removeEvent(this.$toggleButton,"click keydown","onToggleButtonPress"),this.removeEvent(this.$clearButton,"click keydown","onClearButtonClick"),this.removeEvent(this.$dropboxContainer,"click","onDropboxContainerClick"),this.removeEvent(this.$dropboxCloseButton,"click","onDropboxCloseButtonClick"),this.removeEvent(this.$optionsContainer,"scroll","onOptionsScroll"),this.removeEvent(this.$options,"click","onOptionsClick"),this.removeEvent(this.$options,"mouseover","onOptionsMouseOver"),this.removeEvent(this.$options,"touchmove","onOptionsTouchMove"),this.removeMutationObserver()}},{key:"removeEvent",value:function(t,e,i){var o=this;t&&D.removeArrayEmpty(e.split(" ")).forEach(function(r){var v="".concat(i,"-").concat(r),d=o.events[v];d&&n.removeEvent(t,r,d)})}},{key:"onDocumentClick",value:function(t){var e=t.target.closest(".vscomp-wrapper");e!==this.$wrapper&&e!==this.$dropboxWrapper&&this.isOpened()&&this.closeDropbox()}},{key:"onKeyDown",value:function(t){var e=t.which||t.keyCode,i=W[e];if(document.activeElement!==this.$searchInput||t.shiftKey||e!==9||this.multiple||(t.preventDefault(),this.focusFirstVisibleOption()),document.activeElement!==this.$toggleAllButton||e!==13){if(e===27||t.key==="Escape"){var o=this.showAsPopup?this.$wrapper:this.$dropboxWrapper;if((document.activeElement===o||o.contains(document.activeElement))&&!this.keepAlwaysOpen)return void this.closeDropbox()}i&&this[i](t)}else this.toggleAllOptions()}},{key:"onEnterPress",value:function(t){t.preventDefault(),this.isOpened()?this.selectFocusedOption():this.$ele.disabled===!1&&this.openDropbox()}},{key:"onDownArrowPress",value:function(t){t.preventDefault(),this.isOpened()?this.focusOption({direction:"next"}):this.openDropbox()}},{key:"onUpArrowPress",value:function(t){t.preventDefault(),this.isOpened()?this.focusOption({direction:"previous"}):this.openDropbox()}},{key:"onBackspaceOrDeletePress",value:function(t){t.target===this.$wrapper&&(t.preventDefault(),this.selectedValues.length>0&&this.reset())}},{key:"onToggleButtonPress",value:function(t){if(t.stopPropagation(),t.type!=="keydown"||t.code==="Enter"||t.code==="Space"){var e=t.target;e.closest(".vscomp-value-tag-clear-button")?this.removeValue(e.closest(".vscomp-value-tag")):e.closest(".toggle-button-child")||this.toggleDropbox()}}},{key:"onClearButtonClick",value:function(t){t.type==="click"?this.reset():t.type!=="keydown"||t.code!=="Enter"&&t.code!=="Space"||(t.stopPropagation(),this.reset())}},{key:"onOptionsScroll",value:function(){this.setVisibleOptions()}},{key:"onOptionsClick",value:function(t){var e=t.target.closest(".vscomp-option");e&&!n.hasClass(e,"disabled")&&(n.hasClass(e,"group-title")?this.onGroupTitleClick(e):this.selectOption(e,{event:t}))}},{key:"onGroupTitleClick",value:function(t){if(t&&this.multiple&&!this.disableOptionGroupCheckbox){var e=!n.hasClass(t,"selected");this.toggleGroupTitleCheckbox(t,e),this.toggleGroupOptions(t,e)}}},{key:"onDropboxContainerClick",value:function(t){t.target.closest(".vscomp-dropbox")||this.closeDropbox()}},{key:"onDropboxCloseButtonClick",value:function(){this.closeDropbox()}},{key:"onOptionsMouseOver",value:function(t){var e=t.target.closest(".vscomp-option");e&&this.isOpened()&&(n.hasClass(e,"disabled")||n.hasClass(e,"group-title")?this.removeOptionFocus():this.focusOption({$option:e}))}},{key:"onOptionsTouchMove",value:function(){this.removeOptionFocus()}},{key:"onSearch",value:function(t){t.stopPropagation(),this.setSearchValue(t.target.value,!0)}},{key:"onSearchClear",value:function(t){t.stopPropagation(),t.code!=="Enter"&&t.code!=="Space"&&t.type!=="click"||(this.setSearchValue(""),this.focusSearchInput())}},{key:"onToggleAllOptions",value:function(){this.toggleAllOptions()}},{key:"onDropboxContainerTopOrBottomFocus",value:function(){this.closeDropbox()}},{key:"onResize",value:function(){this.setOptionsContainerHeight(!0)}},{key:"addMutationObserver",value:function(){var t=this;if(this.hasDropboxWrapper){var e=this.$ele;this.mutationObserver=new MutationObserver(function(i){var o=!1,r=!1;i.forEach(function(v){o||(o=S(v.addedNodes).some(function(d){return!(d!==e&&!d.contains(e))})),r||(r=S(v.removedNodes).some(function(d){return!(d!==e&&!d.contains(e))}))}),r&&!o&&t.destroy()}),this.mutationObserver.observe(document.querySelector("body"),{childList:!0,subtree:!0})}}},{key:"removeMutationObserver",value:function(){this.mutationObserver.disconnect()}},{key:"beforeValueSet",value:function(t){this.toggleAllOptionsClass(!t&&void 0)}},{key:"beforeSelectNewValue",value:function(){var t=this,e=this.getNewOption(),i=e.index;this.newValues.push(e.value),this.setOptionProp(i,"isCurrentNew",!1),this.setOptionProp(i,"isNew",!0),setTimeout(function(){t.setSearchValue(""),t.focusSearchInput()},0)}},{key:"afterRenderWrapper",value:function(){n.addClass(this.$ele,"vscomp-ele"),this.renderSearch(),this.setEleStyles(),this.setDropboxStyles(),this.setOptionsHeight(),this.setVisibleOptions(),this.setOptionsContainerHeight(),this.addEvents(),this.setEleProps(),this.keepAlwaysOpen||this.showAsPopup||this.initDropboxPopover(),this.initialSelectedValue?this.setValueMethod(this.initialSelectedValue,this.silentInitialValueSet):this.autoSelectFirstOption&&this.visibleOptions.length&&this.setValueMethod(this.visibleOptions[0].value,this.silentInitialValueSet),this.showOptionsOnlyOnSearch&&this.setSearchValue("",!1,!0),this.initialDisabled&&this.disable(),this.autofocus&&this.focus()}},{key:"afterRenderOptions",value:function(){var t=this.getVisibleOptions(),e=!this.options.length&&!this.hasServerSearch,i=!e&&!t.length;if((!this.allowNewOption||this.hasServerSearch||this.showOptionsOnlyOnSearch)&&(n.toggleClass(this.$allWrappers,"has-no-search-results",i),i?(n.setAttr(this.$noSearchResults,"tabindex","0"),n.setAttr(this.$noSearchResults,"aria-hidden","false")):(n.setAttr(this.$noSearchResults,"tabindex","-1"),n.setAttr(this.$noSearchResults,"aria-hidden","true"))),n.toggleClass(this.$allWrappers,"has-no-options",e),e?(n.setAttr(this.$noOptions,"tabindex","0"),n.setAttr(this.$noOptions,"aria-hidden","false")):(n.setAttr(this.$noOptions,"tabindex","-1"),n.setAttr(this.$noOptions,"aria-hidden","true")),this.setOptionAttr(),this.setOptionsPosition(),this.setOptionsTooltip(),document.activeElement!==this.$searchInput){var o=n.getElementsBySelector(".focused",this.$dropboxContainer)[0];o!==void 0&&o.focus()}}},{key:"afterSetOptionsContainerHeight",value:function(t){t&&this.showAsPopup&&this.setVisibleOptions()}},{key:"afterSetSearchValue",value:function(){var t=this;this.hasServerSearch?(clearInterval(this.serverSearchTimeout),this.serverSearchTimeout=setTimeout(function(){t.serverSearch()},this.searchDelay)):this.setVisibleOptionsCount(),this.selectAllOnlyVisible&&this.toggleAllOptionsClass(),this.focusOption({focusFirst:!0})}},{key:"afterSetVisibleOptionsCount",value:function(){this.scrollToTop(),this.setOptionsHeight(),this.setVisibleOptions(),this.updatePosition()}},{key:"afterValueSet",value:function(){this.scrollToTop(),this.setSearchValue(""),this.renderOptions()}},{key:"afterSetOptions",value:function(t){t&&this.setSelectedProp(),this.setOptionsHeight(),this.setVisibleOptions(),this.showOptionsOnlyOnSearch&&this.setSearchValue("",!1,!0),t||this.reset()}},{key:"setProps",value:function(t){var e=this.setDefaultProps(t);this.setPropsFromElementAttr(e);var i=D.convertToBoolean;this.$ele=e.ele,this.dropboxWrapper=e.dropboxWrapper,this.valueKey=e.valueKey,this.labelKey=e.labelKey,this.descriptionKey=e.descriptionKey,this.aliasKey=e.aliasKey,this.optionHeightText=e.optionHeight,this.optionHeight=parseFloat(this.optionHeightText),this.multiple=i(e.multiple),this.hasSearch=i(e.search),this.searchByStartsWith=i(e.searchByStartsWith),this.searchGroup=i(e.searchGroup),this.hideClearButton=i(e.hideClearButton),this.autoSelectFirstOption=i(e.autoSelectFirstOption),this.hasOptionDescription=i(e.hasOptionDescription),this.silentInitialValueSet=i(e.silentInitialValueSet),this.allowNewOption=i(e.allowNewOption),this.markSearchResults=i(e.markSearchResults),this.showSelectedOptionsFirst=i(e.showSelectedOptionsFirst),this.disableSelectAll=i(e.disableSelectAll),this.keepAlwaysOpen=i(e.keepAlwaysOpen),this.showDropboxAsPopup=i(e.showDropboxAsPopup),this.hideValueTooltipOnSelectAll=i(e.hideValueTooltipOnSelectAll),this.showOptionsOnlyOnSearch=i(e.showOptionsOnlyOnSearch),this.selectAllOnlyVisible=i(e.selectAllOnlyVisible),this.alwaysShowSelectedOptionsCount=i(e.alwaysShowSelectedOptionsCount),this.alwaysShowSelectedOptionsLabel=i(e.alwaysShowSelectedOptionsLabel),this.disableAllOptionsSelectedText=i(e.disableAllOptionsSelectedText),this.showValueAsTags=i(e.showValueAsTags),this.disableOptionGroupCheckbox=i(e.disableOptionGroupCheckbox),this.enableSecureText=i(e.enableSecureText),this.setValueAsArray=i(e.setValueAsArray),this.disableValidation=i(e.disableValidation),this.initialDisabled=i(e.disabled),this.required=i(e.required),this.autofocus=i(e.autofocus),this.useGroupValue=i(e.useGroupValue),this.focusSelectedOptionOnOpen=i(e.focusSelectedOptionOnOpen),this.noOptionsText=e.noOptionsText,this.noSearchResultsText=e.noSearchResultsText,this.selectAllText=e.selectAllText,this.searchNormalize=e.searchNormalize,this.searchPlaceholderText=e.searchPlaceholderText,this.searchFormLabel=e.searchFormLabel,this.optionsSelectedText=e.optionsSelectedText,this.optionSelectedText=e.optionSelectedText,this.allOptionsSelectedText=e.allOptionsSelectedText,this.clearButtonText=e.clearButtonText,this.moreText=e.moreText,this.placeholder=e.placeholder,this.position=e.position,this.textDirection=e.textDirection,this.dropboxWidth=e.dropboxWidth,this.tooltipFontSize=e.tooltipFontSize,this.tooltipAlignment=e.tooltipAlignment,this.tooltipMaxWidth=e.tooltipMaxWidth,this.updatePositionThrottle=e.updatePositionThrottle,this.noOfDisplayValues=parseInt(e.noOfDisplayValues),this.zIndex=parseInt(e.zIndex),this.maxValues=parseInt(e.maxValues),this.minValues=parseInt(e.minValues),this.name=this.secureText(e.name),this.additionalClasses=e.additionalClasses,this.additionalDropboxClasses=e.additionalDropboxClasses,this.additionalDropboxContainerClasses=e.additionalDropboxContainerClasses,this.additionalToggleButtonClasses=e.additionalToggleButtonClasses,this.popupDropboxBreakpoint=e.popupDropboxBreakpoint,this.popupPosition=e.popupPosition,this.onServerSearch=e.onServerSearch,this.labelRenderer=e.labelRenderer,this.selectedLabelRenderer=e.selectedLabelRenderer,this.initialSelectedValue=e.selectedValue===0?"0":e.selectedValue,this.emptyValue=e.emptyValue,this.ariaLabelText=e.ariaLabelText,this.ariaLabelledby=e.ariaLabelledby,this.ariaLabelClearButtonText=e.ariaLabelClearButtonText,this.ariaLabelTagClearButtonText=e.ariaLabelTagClearButtonText,this.ariaLabelSearchClearButtonText=e.ariaLabelSearchClearButtonText,this.maxWidth=e.maxWidth,this.searchDelay=e.searchDelay,this.showDuration=parseInt(e.showDuration),this.hideDuration=parseInt(e.hideDuration),this.selectedValues=[],this.selectedOptions=[],this.newValues=[],this.events={},this.tooltipEnterDelay=200,this.searchValue="",this.searchValueOriginal="",this.isAllSelected=!1,(e.search===void 0&&this.multiple||this.allowNewOption||this.showOptionsOnlyOnSearch)&&(this.hasSearch=!0),this.hasServerSearch=typeof this.onServerSearch=="function",(this.maxValues||this.hasServerSearch||this.showOptionsOnlyOnSearch)&&(this.disableSelectAll=!0,this.disableOptionGroupCheckbox=!0),this.keepAlwaysOpen&&(this.dropboxWrapper="self"),this.showAsPopup=this.showDropboxAsPopup&&!this.keepAlwaysOpen&&window.innerWidth<=parseFloat(this.popupDropboxBreakpoint),this.hasSearchContainer=this.hasSearch||this.multiple&&!this.disableSelectAll,this.optionsCount=this.getOptionsCount(e.optionsCount),this.halfOptionsCount=Math.ceil(this.optionsCount/2),this.optionsHeight=this.getOptionsHeight(),this.uniqueId=this.getUniqueId()}},{key:"setDefaultProps",value:function(t){var e={dropboxWrapper:"self",valueKey:"value",labelKey:"label",descriptionKey:"description",aliasKey:"alias",ariaLabelText:"Options list",ariaLabelClearButtonText:"Clear button",ariaLabelTagClearButtonText:"Remove option",ariaLabelSearchClearButtonText:"Clear search input",optionsCount:5,noOfDisplayValues:50,optionHeight:"40px",noOptionsText:"No options found",noSearchResultsText:"No results found",selectAllText:"Select All",searchNormalize:!1,searchPlaceholderText:"Search...",searchFormLabel:"Search",clearButtonText:"Clear",moreText:"more...",optionsSelectedText:"options selected",optionSelectedText:"option selected",allOptionsSelectedText:"All",placeholder:"Select",position:"bottom left",zIndex:t.keepAlwaysOpen?1:2,tooltipFontSize:"14px",tooltipAlignment:"center",tooltipMaxWidth:"300px",updatePositionThrottle:100,name:"",additionalClasses:"",additionalDropboxClasses:"",additionalDropboxContainerClasses:"",additionalToggleButtonClasses:"",maxValues:0,showDropboxAsPopup:!0,popupDropboxBreakpoint:"576px",popupPosition:"center",hideValueTooltipOnSelectAll:!0,emptyValue:"",searchDelay:300,focusSelectedOptionOnOpen:!0,showDuration:300,hideDuration:200};return t.hasOptionDescription&&(e.optionsCount=4,e.optionHeight="50px"),Object.assign(e,t)}},{key:"setPropsFromElementAttr",value:function(t){var e=t.ele;Object.keys(V).forEach(function(i){var o=e.getAttribute(i);z.indexOf(i)===-1||o!==""&&o!=="true"||(o=!0),o&&(t[V[i]]=o)})}},{key:"setEleProps",value:function(){var t=this.$ele;t.virtualSelect=this,t.value=this.multiple?[]:"",t.name=this.name,t.disabled=!1,t.required=this.required,t.autofocus=this.autofocus,t.multiple=this.multiple,t.form=t.closest("form"),t.reset=l.reset,t.setValue=l.setValueMethod,t.setOptions=l.setOptionsMethod,t.setDisabledOptions=l.setDisabledOptionsMethod,t.setEnabledOptions=l.setEnabledOptionsMethod,t.toggleSelectAll=l.toggleSelectAll,t.isAllSelected=l.isAllSelected,t.addOption=l.addOptionMethod,t.getNewValue=l.getNewValueMethod,t.getDisplayValue=l.getDisplayValueMethod,t.getSelectedOptions=l.getSelectedOptionsMethod,t.getDisabledOptions=l.getDisabledOptionsMethod,t.open=l.openMethod,t.close=l.closeMethod,t.focus=l.focusMethod,t.enable=l.enableMethod,t.disable=l.disableMethod,t.destroy=l.destroyMethod,t.validate=l.validateMethod,t.toggleRequired=l.toggleRequiredMethod,this.hasDropboxWrapper&&(this.$dropboxWrapper.virtualSelect=this)}},{key:"setValueMethod",value:function(t,e){var i={},o={},r=[],v=this.multiple,d=t;if(d){if(Array.isArray(d)||(d=[d]),v){var E=this.maxValues;E&&d.length>E&&d.splice(E)}else d.length>1&&(d=[d[0]]);d=d.map(function(x){return x||x===0?x.toString():""}),this.useGroupValue&&(d=this.setGroupOptionsValue(d)),d.forEach(function(x,M){i[x]=!0,o[x]=M}),this.allowNewOption&&d&&this.setNewOptionsFromValue(d)}if(this.options.forEach(function(x){i[x.value]!==!0||x.isDisabled||x.isGroupTitle?x.isSelected=!1:(x.isSelected=!0,r.push(x.value))}),v)this.hasOptionGroup&&this.setGroupsSelectedProp(),r.sort(function(x,M){return o[x]-o[M]});else{var A=b(r,1);r=A[0]}this.beforeValueSet(),this.setValue(r,{disableEvent:e}),this.afterValueSet()}},{key:"setGroupOptionsValue",value:function(t){var e=[],i={},o={};return t.forEach(function(r){o[r]=!0}),this.options.forEach(function(r){var v=r.value,d=o[v]===!0;r.isGroupTitle?d&&(i[r.index]=!0):(d||i[r.groupIndex])&&e.push(v)}),e}},{key:"setGroupsSelectedProp",value:function(){var t=this.isAllGroupOptionsSelected.bind(this);this.options.forEach(function(e){e.isGroupTitle&&(e.isSelected=t(e.index))})}},{key:"setOptionsMethod",value:function(t,e){this.setOptions(t),this.afterSetOptions(e)}},{key:"setDisabledOptionsMethod",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.setDisabledOptions(t,!0),e||(this.setValueMethod(null),this.toggleAllOptionsClass()),this.setVisibleOptions()}},{key:"setDisabledOptions",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i=[];if(t)if(t===!0)e&&this.options.forEach(function(r){return r.isDisabled=!0,i.push(r.value),r});else{i=t.map(function(r){return r.toString()});var o={};i.forEach(function(r){o[r]=!0}),e&&this.options.forEach(function(r){return r.isDisabled=o[r.value]===!0,r})}else e&&this.options.forEach(function(r){return r.isDisabled=!1,r});this.disabledOptions=i}},{key:"setEnabledOptionsMethod",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.setEnabledOptions(t),e||(this.setValueMethod(null),this.toggleAllOptionsClass()),this.setVisibleOptions()}},{key:"setEnabledOptions",value:function(t){if(t!==void 0){var e=[];if(t===!0)this.options.forEach(function(o){return o.isDisabled=!1,o});else{var i={};t.forEach(function(o){i[o]=!0}),this.options.forEach(function(o){var r=i[o.value]!==!0;return o.isDisabled=r,r&&e.push(o.value),o})}this.disabledOptions=e}}},{key:"setOptions",value:function(){var t=this,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=[],o=this.disabledOptions.length,r=this.valueKey,v=this.labelKey,d=this.descriptionKey,E=this.aliasKey,A=this.hasOptionDescription,x=D.getString,M=D.convertToBoolean,F=this.secureText.bind(this),Z=this.getAlias.bind(this),U=0,tt=!1,B={},N=!1;this.disabledOptions.forEach(function(q){B[q]=!0});var Y=function(q){O(q)!=="object"&&(q=H(H({},r,q),v,q));var it=F(x(q[r])),ot=F(x(q[v])),nt=q.options,st=!!nt,et={index:U,value:it,label:ot,labelNormalized:t.searchNormalize?D.normalizeString(ot).toLowerCase():ot.toLowerCase(),alias:Z(q[E]),isVisible:M(q.isVisible,!0),isNew:q.isNew||!1,isGroupTitle:st,classNames:q.classNames};if(N||it!==""||(N=!0),o&&(et.isDisabled=B[it]===!0),q.isGroupOption&&(et.isGroupOption=!0,et.groupIndex=q.groupIndex),A&&(et.description=F(x(q[d]))),q.customData&&(et.customData=q.customData),i.push(et),U+=1,st){var at=et.index;tt=!0,nt.forEach(function(rt){rt.isGroupOption=!0,rt.groupIndex=at,Y(rt)})}};Array.isArray(e)&&e.forEach(Y);var X=i.length,R=this.$ele;R.options=i,R.length=X,this.options=i,this.visibleOptionsCount=X,this.lastOptionIndex=X-1,this.newValues=[],this.hasOptionGroup=tt,this.hasEmptyValueOption=N,this.setSortedOptions()}},{key:"setServerOptions",value:function(){var t=this,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.setOptionsMethod(e,!0);var i=this.selectedOptions,o=this.options,r=!1;if(i.length){var v={};r=!0,o.forEach(function(d){v[d.value]=!0}),i.forEach(function(d){v[d.value]!==!0&&(d.isVisible=!1,o.push(d))}),this.setOptionsMethod(o,!0)}this.allowNewOption&&this.searchValue&&(o.some(function(d){return d.label.toLowerCase()===t.searchValue})||(r=!0,this.setNewOption())),r?(this.setVisibleOptionsCount(),this.multiple&&this.toggleAllOptionsClass(),this.setValueText()):this.updatePosition(),this.setVisibleOptionsCount(),n.removeClass(this.$allWrappers,"server-searching")}},{key:"setSelectedOptions",value:function(){this.selectedOptions=this.options.filter(function(t){return t.isSelected})}},{key:"setSortedOptions",value:function(){var t=S(this.options);this.showSelectedOptionsFirst&&this.selectedValues.length&&(t=this.hasOptionGroup?this.sortOptionsGroup(t):this.sortOptions(t)),this.sortedOptions=t}},{key:"setVisibleOptions",value:function(){var t=S(this.sortedOptions),e=2*this.optionsCount,i=this.getVisibleStartIndex(),o=this.getNewOption(),r=i+e-1,v=0;o&&(o.visibleIndex=v,v+=1),t=t.filter(function(d){var E=!1;return d.isVisible&&!d.isCurrentNew&&(E=v>=i&&v<=r,d.visibleIndex=v,v+=1),E}),o&&(t=[o].concat(S(t))),this.visibleOptions=t,this.visibleOptionsCount=t.length,this.renderOptions()}},{key:"setOptionsPosition",value:function(t){var e=parseInt((t||this.getVisibleStartIndex())*this.optionHeight);this.$options.style.transform="translate3d(0, ".concat(e,"px, 0)"),n.setData(this.$options,"top",e)}},{key:"setOptionsTooltip",value:function(){var t=this,e=this.getVisibleOptions(),i=this.hasOptionDescription;e.forEach(function(o){var r=t.$dropboxContainer.querySelector('.vscomp-option[data-index="'.concat(o.index,'"]'));n.setData(r.querySelector(".vscomp-option-text"),"tooltip",o.label),i&&n.setData(r.querySelector(".vscomp-option-description"),"tooltip",o.description)})}},{key:"setValue",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=e.disableEvent,o=i!==void 0&&i,r=e.disableValidation,v=r!==void 0&&r;this.hasEmptyValueOption&&t===""||t?Array.isArray(t)?this.selectedValues=S(t):this.selectedValues=[t]:this.selectedValues=[];var d=this.getValue();this.$ele.value=d,this.$hiddenInput.value=this.getInputValue(d),this.isMaxValuesSelected=!!(this.maxValues&&this.maxValues<=this.selectedValues.length),this.toggleAllOptionsClass(),this.setValueText();var E=D.isNotEmpty(this.selectedValues);n.toggleClass(this.$allWrappers,"has-value",E),n.toggleClass(this.$allWrappers,"max-value-selected",this.isMaxValuesSelected),n.setAttr(this.$clearButton,"tabindex",E?"0":"-1"),n.setAria(this.$clearButton,"hidden",E===!1),v||this.validate(),o||n.dispatchEvent(this.$ele,"change",!0)}},{key:"setValueText",value:function(){var t=this,e=this.multiple,i=this.selectedValues,o=this.noOfDisplayValues,r=this.showValueAsTags,v=this.$valueText,d=this.selectedLabelRenderer,E=[],A=[],x=i.length,M=0,F=this.isAllSelected&&!this.hasServerSearch&&!this.disableAllOptionsSelectedText&&!r;if(F&&this.hideValueTooltipOnSelectAll)v.innerHTML="".concat(this.allOptionsSelectedText," (").concat(x,")");else{this.getSelectedOptions({fullDetails:!0,keepSelectionOrder:!0}).some(function(X){if(X.isCurrentNew)return!1;if(M>=o)return!0;var R=X.label;if(typeof d=="function"&&(R=d(X)),E.push(R),M+=1,r){var q=D.willTextOverflow(v.parentElement,R)?t.getTooltipAttrText(R,!1,!0):"",it="";if(t.ariaLabelTagClearButtonText){var ot=R.replace(/<[^>]+>/gi,"").trim();it='aria-label="'.concat(ot,", ").concat(t.ariaLabelTagClearButtonText,'"')}var nt='<span class="vscomp-value-tag" data-index="'.concat(X.index,'" ').concat(q,`>
                  <span class="vscomp-value-tag-content">`).concat(R,`</span>
                  <span 
                    class="vscomp-value-tag-clear-button" 
                    role="button" 
                    `).concat(it,`
                    tabindex="0">
                      <i class="vscomp-clear-icon"></i>
                  </span>
                </span>`);A.push(nt)}else A.push(R);return!1});var Z=x-o;Z>0&&A.push('<span class="vscomp-value-tag more-value-count">+ '.concat(Z," ").concat(this.moreText,"</span>"));var U=E.join(", ");if(U==="")v.innerHTML=this.placeholder;else if(v.innerHTML=U,e){var tt=this.maxValues;if(this.alwaysShowSelectedOptionsCount||n.hasEllipsis(v)||tt||r){var B='<span class="vscomp-selected-value-count">'.concat(x,"</span>");if(tt&&(B+=' / <span class="vscomp-max-value-count">'.concat(tt,"</span>")),F)v.innerHTML="".concat(this.allOptionsSelectedText," (").concat(x,")");else if(r)v.innerHTML=A.join(""),this.$valueTags=v.querySelectorAll(".vscomp-value-tag"),this.setValueTagAttr();else if(!this.alwaysShowSelectedOptionsLabel){var N=x===1?this.optionSelectedText:this.optionsSelectedText;v.innerHTML="".concat(B," ").concat(N)}}else A=[]}}var Y="";x===0?Y=this.placeholder:r||(Y=A.join(", ")),r||n.setData(v,"tooltip",Y),e&&(r?this.updatePosition():n.setData(v,"tooltipEllipsisOnly",x===0))}},{key:"setSearchValue",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(t!==this.searchValueOriginal||i){e||(this.$searchInput.value=t);var o=t.replace(/\\/g,"").toLowerCase().trim();this.searchValue=o,this.searchValueOriginal=t,n.toggleClass(this.$allWrappers,"has-search-value",t),n.setAttr(this.$searchClear,"tabindex",t!==""?"0":"-1"),n.setAria(this.$searchClear,"hidden",t===""),this.afterSetSearchValue()}}},{key:"setVisibleOptionsCount",value:function(){var t,e=0,i=!1,o=this.searchGroup,r=this.showOptionsOnlyOnSearch,v=this.searchByStartsWith,d=this.searchValue;d=this.searchNormalize?D.normalizeString(d):d;var E=this.isOptionVisible.bind(this);this.hasOptionGroup&&(t=this.getVisibleOptionGroupsMapping(d)),this.options.forEach(function(A){var x;A.isCurrentNew||(r&&!d?(A.isVisible=!1,x={isVisible:!1,hasExactOption:!1}):x=E({data:A,searchValue:d,hasExactOption:i,visibleOptionGroupsMapping:t,searchGroup:o,searchByStartsWith:v}),x.isVisible&&(e+=1),i||(i=x.hasExactOption))}),this.allowNewOption&&(d&&!i?(this.setNewOption(),e+=1):this.removeNewOption()),this.visibleOptionsCount=e,this.afterSetVisibleOptionsCount()}},{key:"setOptionProp",value:function(t,e,i){this.options[t]&&(this.options[t][e]=i)}},{key:"setOptionsHeight",value:function(){this.$optionsList.style.height="".concat(this.optionHeight*this.visibleOptionsCount,"px")}},{key:"setOptionsContainerHeight",value:function(t){var e;t?this.showAsPopup&&(this.optionsCount=this.getOptionsCount(),this.halfOptionsCount=Math.ceil(this.optionsCount/2),e=this.getOptionsHeight(),this.optionsHeight=e):(e=this.optionsHeight,this.keepAlwaysOpen&&(n.setStyle(this.$noOptions,"height",e),n.setStyle(this.$noSearchResults,"height",e))),n.setStyle(this.$optionsContainer,"max-height",e),this.afterSetOptionsContainerHeight(t)}},{key:"setNewOption",value:function(t){var e=t||this.searchValueOriginal.trim();if(e){var i=this.getNewOption();if(i){var o=i.index;this.setOptionProp(o,"value",this.secureText(e)),this.setOptionProp(o,"label",this.secureText(e))}else{var r={value:e,label:e};t?(r.isNew=!0,this.newValues.push(e)):r.isCurrentNew=!0,this.addOption(r)}}}},{key:"setSelectedProp",value:function(){var t={};this.selectedValues.forEach(function(e){t[e]=!0}),this.options.forEach(function(e){t[e.value]===!0&&(e.isSelected=!0)})}},{key:"setNewOptionsFromValue",value:function(t){if(t){var e=this.setNewOption.bind(this),i={};this.options.forEach(function(o){i[o.value]=!0}),t.forEach(function(o){o&&i[o]!==!0&&e(o)})}}},{key:"setDropboxWrapperWidth",value:function(){if(!this.showAsPopup){var t=this.dropboxWidth||"".concat(this.$wrapper.offsetWidth,"px");n.setStyle(this.$dropboxContainer,"max-width",t)}}},{key:"setEleStyles",value:function(){var t=this.maxWidth,e={};t&&(e["max-width"]=t),n.setStyles(this.$ele,e)}},{key:"setDropboxStyles",value:function(){var t=this.dropboxWidth,e={},i={"z-index":this.zIndex};t&&(this.showAsPopup?e["max-width"]=t:i.width=t),n.setStyles(this.$dropboxContainer,i),n.setStyles(this.$dropbox,e)}},{key:"setOptionAttr",value:function(){var t=this.$visibleOptions,e=this.options,i="".concat(this.optionHeight,"px"),o=n.setStyle,r=n.getData,v=n.setData;t&&t.length&&t.forEach(function(d){var E=e[r(d,"index")];o(d,"height",i),v(d,"value",E.value)})}},{key:"setValueTagAttr",value:function(){var t=this.$valueTags;if(t&&t.length){var e=n.getData,i=n.setData,o=this.options;t.forEach(function(r){var v=e(r,"index");if(v!==void 0){var d=o[v];i(r,"value",d.value)}})}}},{key:"setScrollTop",value:function(){var t=this.selectedValues;if(!this.showSelectedOptionsFirst&&this.focusSelectedOptionOnOpen&&t.length!==0){var e,i={};t.forEach(function(o){i[o]=!0}),this.options.some(function(o){return!!i[o.value]&&(e=o.visibleIndex,!0)}),e&&(this.$optionsContainer.scrollTop=this.optionHeight*e)}}},{key:"getVisibleOptions",value:function(){return this.visibleOptions||[]}},{key:"getValue",value:function(){return this.multiple?this.useGroupValue?this.getGroupValue():this.selectedValues:this.selectedValues[0]||""}},{key:"getGroupValue",value:function(){var t=[],e={};return this.options.forEach(function(i){if(i.isSelected){var o=i.value;i.isGroupTitle?o&&(e[i.index]=!0,t.push(o)):e[i.groupIndex]!==!0&&t.push(o)}}),t}},{key:"getInputValue",value:function(t){var e=t;return e&&e.length?this.setValueAsArray&&this.multiple&&(e=JSON.stringify(e)):e=this.emptyValue,e}},{key:"getFirstVisibleOptionIndex",value:function(){return Math.ceil(this.$optionsContainer.scrollTop/this.optionHeight)}},{key:"getVisibleStartIndex",value:function(){var t=this.getFirstVisibleOptionIndex()-this.halfOptionsCount;return t<0&&(t=0),t}},{key:"getTooltipAttrText",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],o={"data-tooltip":(D.containsHTML(t)?D.replaceDoubleQuotesWithHTML(t):t)||"","data-tooltip-enter-delay":this.tooltipEnterDelay,"data-tooltip-z-index":this.zIndex,"data-tooltip-font-size":this.tooltipFontSize,"data-tooltip-alignment":this.tooltipAlignment,"data-tooltip-max-width":this.tooltipMaxWidth,"data-tooltip-ellipsis-only":e,"data-tooltip-allow-html":i};return n.getAttributesText(o)}},{key:"getOptionObj",value:function(t){if(t){var e=D.getString,i=this.secureText.bind(this);return{index:t.index,value:i(e(t.value)),label:i(e(t.label)),description:i(e(t.description)),alias:this.getAlias(t.alias),isCurrentNew:t.isCurrentNew||!1,isNew:t.isNew||!1,isVisible:!0}}}},{key:"getNewOption",value:function(){var t=this.options[this.lastOptionIndex];if(t&&t.isCurrentNew)return t}},{key:"getOptionIndex",value:function(t){var e;return this.options.some(function(i){return i.value===t&&(e=i.index,!0)}),e}},{key:"getNewValue",value:function(){var t={};this.newValues.forEach(function(i){t[i]=!0});var e=this.selectedValues.filter(function(i){return t[i]===!0});return this.multiple?e:e[0]}},{key:"getAlias",value:function(t){var e=t;return e&&(e=(e=Array.isArray(e)?e.join(","):e.toString().trim()).toLowerCase()),e||""}},{key:"getDisplayValue",value:function(){var t=[];return this.options.forEach(function(e){e.isSelected&&t.push(e.label)}),this.multiple?t:t[0]||""}},{key:"getSelectedOptions",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.fullDetails,i=e!==void 0&&e,o=t.keepSelectionOrder,r=o!==void 0&&o,v=this.valueKey,d=this.labelKey,E=this.selectedValues,A=[];if(this.options.forEach(function(M){if(M.isSelected&&!M.isGroupTitle)if(i)A.push(M);else{var F=H(H({},v,M.value),d,M.label);M.isNew&&(F.isNew=!0),M.customData&&(F.customData=M.customData),A.push(F)}}),r){var x={};E.forEach(function(M,F){x[M]=F}),A.sort(function(M,F){return x[M.value]-x[F.value]})}return this.multiple||i?A:A[0]}},{key:"getDisabledOptions",value:function(){var t=this.valueKey,e=this.labelKey,i=this.disabledOptions,o={},r=[];return i.forEach(function(v){o[v]=!0}),this.options.forEach(function(v){var d=v.value,E=v.label;o[d]&&r.push(H(H({},t,d),e,E))}),r}},{key:"getVisibleOptionGroupsMapping",value:function(t){var e=this.options,i={},o=this.isOptionVisible.bind(this);return(e=this.structureOptionGroup(e)).forEach(function(r){i[r.index]=r.options.some(function(v){return o({data:v,searchValue:t}).isVisible})}),i}},{key:"getOptionsCount",value:function(t){var e;if(this.showAsPopup){var i=80*window.innerHeight/100-48;this.hasSearchContainer&&(i-=40),e=Math.floor(i/this.optionHeight)}else e=parseInt(t);return e}},{key:"getOptionsHeight",value:function(){return"".concat(this.optionsCount*this.optionHeight,"px")}},{key:"getSibling",value:function(t,e){var i=e==="next"?"nextElementSibling":"previousElementSibling",o=t;do o&&(o=o[i]);while(n.hasClass(o,"disabled")||n.hasClass(o,"group-title"));return o}},{key:"getUniqueId",value:function(){var t=D.getRandomInt(1e4);return document.querySelector("#vscomp-ele-wrapper-".concat(t))?this.getUniqueId():t}},{key:"initDropboxPopover",value:function(){var t={ele:this.$ele,target:this.$dropboxContainer,position:this.position,zIndex:this.zIndex,margin:4,transitionDistance:30,hideArrowIcon:!0,disableManualAction:!0,disableUpdatePosition:!this.hasDropboxWrapper,updatePositionThrottle:this.updatePositionThrottle,showDuration:this.showDuration,hideDuration:this.hideDuration,afterShow:this.afterShowPopper.bind(this),afterHide:this.afterHidePopper.bind(this)};this.dropboxPopover=new PopoverComponent(t)}},{key:"openDropbox",value:function(t){this.isSilentOpen=t,n.setAttr(this.$dropboxWrapper,"tabindex","0"),n.setAria(this.$dropboxWrapper,"hidden",!1),n.setAttr(this.$dropboxContainerTop,"tabindex","0"),n.setAria(this.$dropboxContainerTop,"hidden",!1),n.setAttr(this.$dropboxContainerBottom,"tabindex","0"),n.setAria(this.$dropboxContainerBottom,"hidden",!1),t?n.setStyle(this.$dropboxContainer,"display","inline-flex"):(n.dispatchEvent(this.$ele,"beforeOpen"),n.setAria(this.$wrapper,"expanded",!0)),this.setDropboxWrapperWidth(),n.removeClass(this.$allWrappers,"closed"),n.changeTabIndex(this.$allWrappers,0),this.dropboxPopover&&!t?this.dropboxPopover.show():this.afterShowPopper()}},{key:"afterShowPopper",value:function(){var t=this.isSilentOpen;this.isSilentOpen=!1,t||(this.moveSelectedOptionsFirst(),this.setScrollTop(),n.addClass(this.$allWrappers,"focused"),this.showAsPopup?(n.addClass(this.$body,"vscomp-popup-active"),this.isPopupActive=!0):this.focusElementOnOpen(),n.dispatchEvent(this.$ele,"afterOpen"))}},{key:"closeDropbox",value:function(t){this.isSilentClose=t,this.isOpened()!==!1&&(this.keepAlwaysOpen?this.removeOptionFocus():(t?n.setStyle(this.$dropboxContainer,"display",""):(n.dispatchEvent(this.$ele,"beforeClose"),n.setAria(this.$wrapper,"expanded",!1),n.setAria(this.$wrapper,"activedescendant","")),this.dropboxPopover&&!t?(this.dropboxPopover.hide(),n.setAttr(this.$dropboxWrapper,"tabindex","-1"),n.setAria(this.$dropboxWrapper,"hidden",!0),n.setAttr(this.$dropboxContainerTop,"tabindex","-1"),n.setAria(this.$dropboxContainerTop,"hidden",!0),n.setAttr(this.$dropboxContainerBottom,"tabindex","-1"),n.setAria(this.$dropboxContainerBottom,"hidden",!0)):this.afterHidePopper()))}},{key:"afterHidePopper",value:function(){var t=this.isSilentClose;this.isSilentClose=!1,n.removeClass(this.$allWrappers,"focused"),this.removeOptionFocus(),!t&&this.isPopupActive&&(n.removeClass(this.$body,"vscomp-popup-active"),this.isPopupActive=!1),n.addClass(this.$allWrappers,"closed"),t||n.dispatchEvent(this.$ele,"afterClose"),this.$wrapper.focus(),n.setAttr(this.$dropboxWrapper,"tabindex","-1"),n.setAria(this.$dropboxWrapper,"hidden",!0),n.setAttr(this.$dropboxContainerTop,"tabindex","-1"),n.setAria(this.$dropboxContainerTop,"hidden",!0),n.setAttr(this.$dropboxContainerBottom,"tabindex","-1"),n.setAria(this.$dropboxContainerBottom,"hidden",!0)}},{key:"moveSelectedOptionsFirst",value:function(){this.$optionsContainer.scrollTop&&this.selectedValues.length||this.setVisibleOptions(),this.showSelectedOptionsFirst&&(this.setSortedOptions(),this.scrollToTop())}},{key:"toggleDropbox",value:function(){this.isOpened()?this.closeDropbox():this.openDropbox()}},{key:"updatePosition",value:function(){this.dropboxPopover&&this.isOpened()&&this.$ele.updatePosition()}},{key:"isOpened",value:function(){return!n.hasClass(this.$wrapper,"closed")}},{key:"focusSearchInput",value:function(){var t=this.$searchInput;t&&t.focus()}},{key:"focusElementOnOpen",value:function(){var t=this.$searchInput,e=!this.options.length&&!this.hasServerSearch;if(t)e&&!this.allowNewOption?(n.setAttr(t,"disabled",""),this.$noOptions.focus()):(t.removeAttribute("disabled"),t.focus());else{var i=this.$dropbox.querySelector('[tabindex="0"]');n.getData(i,"index")!==void 0?this.focusOption({direction:"next"}):i?i.focus():this.focusFirstVisibleOption()}}},{key:"focusFirstVisibleOption",value:function(){var t=this.$optionsContainer.querySelector("[data-index='".concat(this.getFirstVisibleOptionIndex(),"']"));t?(n.hasClass(t,"group-title")&&(t=this.getSibling(t,"next")),n.setAttr(t,"tabindex","0"),this.$optionsContainer.scrollTop=this.optionHeight*this.getFirstVisibleOptionIndex(),this.focusOption({focusFirst:!0}),t.focus()):(t=this.$dropbox.querySelector('[tabindex="0"]'))&&t.focus()}},{key:"focusOption",value:function(){var t,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=e.direction,o=e.$option,r=e.focusFirst,v=this.$dropboxContainer.querySelector(".vscomp-option.focused");if(o)t=o;else if(!v||r){var d=this.getFirstVisibleOptionIndex();t=this.$dropboxContainer.querySelector('.vscomp-option[data-visible-index="'.concat(d,'"]')),(n.hasClass(t,"disabled")||n.hasClass(t,"group-title"))&&(t=this.getSibling(t,"next"))}else t=this.getSibling(v,i);t&&t!==v&&(v&&this.toggleOptionFocusedState(v,!1),this.toggleOptionFocusedState(t,!0),this.toggleFocusedProp(n.getData(t,"index"),!0),this.moveFocusedOptionToView(t))}},{key:"moveFocusedOptionToView",value:function(t){var e=t||this.$dropboxContainer.querySelector(".vscomp-option.focused");if(e){var i,o=this.$optionsContainer.getBoundingClientRect(),r=e.getBoundingClientRect(),v=o.top,d=o.bottom,E=o.height,A=r.top,x=r.bottom,M=r.height,F=e.offsetTop,Z=n.getData(this.$options,"top","number");v>A?i=F+Z:d<x&&(i=F-E+M+Z),i!==void 0&&(this.$optionsContainer.scrollTop=i)}}},{key:"removeOptionFocus",value:function(){var t=this.$dropboxContainer.querySelector(".vscomp-option.focused");t&&(this.toggleOptionFocusedState(t,!1),this.toggleFocusedProp(null))}},{key:"selectOption",value:function(t){var e=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).event;if(t){var i=!n.hasClass(t,"selected");if(i){if(this.multiple&&this.isMaxValuesSelected)return}else if(!this.multiple)return void this.closeDropbox();var o=this.selectedValues,r=n.getData(t,"value"),v=n.getData(t,"index","number"),d=n.hasClass(t,"current-new"),E=!1,A=this.lastSelectedOptionIndex;if(this.lastSelectedOptionIndex=null,this.toggleSelectedProp(v,i),i){if(this.multiple)o.push(r),this.toggleAllOptionsClass(),this.toggleGroupOptionsParent(t),e&&e.shiftKey&&(E=!0);else{o.length&&this.toggleSelectedProp(this.getOptionIndex(o[0]),!1),o=[r];var x=this.$dropboxContainer.querySelector(".vscomp-option.selected");x&&this.toggleOptionSelectedState(x,!1),this.closeDropbox(),d||this.setSearchValue("")}this.lastSelectedOptionIndex=v,this.toggleOptionSelectedState(t)}else this.multiple&&(this.toggleOptionSelectedState(t),D.removeItemFromArray(o,r),this.toggleAllOptionsClass(!1),this.toggleGroupOptionsParent(t,!1));d&&this.beforeSelectNewValue(),this.setValue(o),E&&this.selectRangeOptions(A,v)}}},{key:"selectFocusedOption",value:function(){this.selectOption(this.$dropboxContainer.querySelector(".vscomp-option.focused"))}},{key:"selectRangeOptions",value:function(t,e){var i=this;if(typeof t=="number"&&!this.maxValues){var o,r,v=this.selectedValues,d=this.hasOptionGroup,E={};if(t<e?(o=t,r=e):(o=e,r=t),this.options.forEach(function(x){if(!x.isDisabled&&!x.isGroupTitle&&x.isVisible&&!x.isSelected){var M=x.index;if(M>o&&M<r){if(d){var F=x.groupIndex;typeof F=="number"&&(E[F]=!0)}x.isSelected=!0,v.push(x.value)}}}),this.toggleAllOptionsClass(),this.setValue(v),(E=Object.keys(E)).length){var A=this.toggleGroupTitleProp.bind(this);E.forEach(function(x){A(parseInt(x))})}setTimeout(function(){i.renderOptions()},0)}}},{key:"toggleAllOptions",value:function(t){if(this.multiple&&!this.disableSelectAll){var e=typeof isSelected=="boolean"?t:!n.hasClass(this.$toggleAllCheckbox,"checked"),i=[],o=this.selectAllOnlyVisible;this.options.forEach(function(r){var v=r;if(!v.isDisabled&&!v.isCurrentNew){var d=v.isVisible,E=v.isSelected;!e&&(!o||d||!E)||e&&o&&!d&&!E?v.isSelected=!1:(v.isSelected=!0,v.isGroupTitle||i.push(v.value))}}),this.toggleAllOptionsClass(e),this.setValue(i),this.renderOptions()}}},{key:"toggleAllOptionsClass",value:function(t){if(this.multiple){var e=!1;typeof t=="boolean"||(t=this.isAllOptionsSelected()),!t&&this.selectAllOnlyVisible&&this.searchValue!==""&&(this.visibleOptionsCount>0||this.searchValue==="")&&(e=this.isAllOptionsSelected(!0)),n.toggleClass(this.$toggleAllCheckbox,"checked",t||e),this.isAllSelected=t}}},{key:"isAllOptionsSelected",value:function(t){var e=!1;return this.options.length&&this.selectedValues.length&&(e=!this.options.some(function(i){return!i.isSelected&&!i.isDisabled&&!i.isGroupTitle&&(!t||i.isVisible)})),e}},{key:"isAllGroupOptionsSelected",value:function(t){var e=!1;return this.options.length&&(e=!this.options.some(function(i){return!i.isSelected&&!i.isDisabled&&!i.isGroupTitle&&i.groupIndex===t})),e}},{key:"toggleGroupOptionsParent",value:function(t,e){if(this.hasOptionGroup&&!this.disableOptionGroupCheckbox&&t){var i=n.getData(t,"groupIndex");i!==void 0&&(i=parseInt(i));var o=this.$options.querySelector('.vscomp-option[data-index="'.concat(i,'"]')),r=typeof e=="boolean"?e:this.isAllGroupOptionsSelected(i);this.toggleGroupTitleCheckbox(o,r),this.toggleGroupTitleProp(i,r)}}},{key:"toggleGroupTitleProp",value:function(t,e){var i=typeof e=="boolean"?e:this.isAllGroupOptionsSelected(t);this.toggleSelectedProp(t,i)}},{key:"toggleGroupOptions",value:function(t,e){var i=this;if(this.hasOptionGroup&&!this.disableOptionGroupCheckbox&&t){var o=n.getData(t,"index","number"),r=this.selectedValues,v=this.selectAllOnlyVisible,d={},E=D.removeItemFromArray;r.forEach(function(A){d[A]=!0}),this.options.forEach(function(A){if(!A.isDisabled&&A.groupIndex===o){var x=A.value;!e||v&&!A.isVisible?(A.isSelected=!1,d[x]&&E(r,x)):(A.isSelected=!0,d[x]||r.push(x))}}),this.toggleAllOptionsClass(!!e&&null),this.setValue(r),setTimeout(function(){i.renderOptions()},0)}}},{key:"toggleGroupTitleCheckbox",value:function(t,e){if(t){var i=n.getData(t,"index","number");this.toggleSelectedProp(i,e),this.toggleOptionSelectedState(t,e)}}},{key:"toggleFocusedProp",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.focusedOptionIndex&&this.setOptionProp(this.focusedOptionIndex,"isFocused",!1),this.setOptionProp(t,"isFocused",e),this.focusedOptionIndex=t}},{key:"toggleSelectedProp",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.setOptionProp(t,"isSelected",e)}},{key:"scrollToTop",value:function(){this.$optionsContainer.scrollTop>0&&(this.$optionsContainer.scrollTop=0)}},{key:"reset",value:function(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],e=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.options.forEach(function(i){i.isSelected=!1}),this.beforeValueSet(!0),this.setValue(null,{disableEvent:e,disableValidation:t}),this.afterValueSet(),t&&n.removeClass(this.$allWrappers,"has-error"),n.dispatchEvent(this.$ele,"reset")}},{key:"addOption",value:function(t,e){if(t){this.lastOptionIndex+=1;var i=this.getOptionObj(G(G({},t),{},{index:this.lastOptionIndex}));this.options.push(i),this.sortedOptions.push(i),e&&(this.visibleOptionsCount+=1,this.afterSetOptions())}}},{key:"removeOption",value:function(t){(t||t===0)&&(this.options.splice(t,1),this.lastOptionIndex-=1)}},{key:"removeNewOption",value:function(){var t=this.getNewOption();t&&this.removeOption(t.index)}},{key:"sortOptions",value:function(t){return t.sort(function(e,i){var o=e.isSelected||e.isAnySelected,r=i.isSelected||i.isAnySelected;return o||r?o&&(!r||e.index<i.index)?-1:1:0})}},{key:"sortOptionsGroup",value:function(t){var e=this.sortOptions.bind(this),i=this.structureOptionGroup(t);return i.forEach(function(o){var r=o.options;o.isAnySelected=r.some(function(v){return v.isSelected}),o.isAnySelected&&e(r)}),e(i),this.destructureOptionGroup(i)}},{key:"isOptionVisible",value:function(t){var e=t.data,i=t.searchValue,o=t.hasExactOption,r=t.visibleOptionGroupsMapping,v=t.searchGroup,d=t.searchByStartsWith,E=e.value.toLowerCase(),A=this.searchNormalize?e.labelNormalized:e.label.toLowerCase(),x=e.description,M=e.alias,F=d?A.startsWith(i):A.includes(i);return!e.isGroupTitle||v&&F||(F=r[e.index]),d||!M||F||(F=M.includes(i)),d||!x||F||(F=x.toLowerCase().includes(i)),e.isVisible=F,o||(o=A===i||E===i),{isVisible:F,hasExactOption:o}}},{key:"structureOptionGroup",value:function(t){var e=[],i={};return t.forEach(function(o){if(o.isGroupTitle){var r=[];o.options=r,i[o.index]=r,e.push(o)}}),t.forEach(function(o){o.isGroupOption&&i[o.groupIndex].push(o)}),e}},{key:"destructureOptionGroup",value:function(t){var e=[];return t.forEach(function(i){e.push(i),e=e.concat(i.options)}),e}},{key:"serverSearch",value:function(){n.removeClass(this.$allWrappers,"has-no-search-results"),n.addClass(this.$allWrappers,"server-searching"),this.setSelectedOptions(),this.onServerSearch(this.searchValue,this)}},{key:"removeValue",value:function(t){var e=this.selectedValues,i=n.getData(t,"value");D.removeItemFromArray(e,i),this.setValueMethod(e)}},{key:"focus",value:function(){this.$wrapper.focus()}},{key:"enable",value:function(){this.$ele.disabled=!1,this.$ele.removeAttribute("disabled"),this.$hiddenInput.removeAttribute("disabled"),n.setAria(this.$wrapper,"disabled",!1),n.changeTabIndex(this.$wrapper,0)}},{key:"disable",value:function(){this.$ele.disabled=!0,this.$ele.setAttribute("disabled",""),this.$hiddenInput.setAttribute("disabled",""),n.setAria(this.$wrapper,"disabled",!0),n.changeTabIndex(this.$wrapper,-1),this.$wrapper.blur()}},{key:"validate",value:function(){if(this.disableValidation)return!0;var t=!1,e=this.selectedValues,i=this.minValues;return this.required&&(D.isEmpty(e)||this.multiple&&i&&e.length<i)&&(t=!0),n.toggleClass(this.$allWrappers,"has-error",t),!t}},{key:"destroy",value:function(){var t=this.$ele;t.virtualSelect=void 0,t.value=void 0,t.innerHTML="",this.removeEvents(),this.hasDropboxWrapper&&this.$dropboxWrapper.remove(),this.dropboxPopover&&this.dropboxPopover.destroy(),n.removeClass(t,"vscomp-ele")}},{key:"createSecureTextElements",value:function(){this.$secureDiv=document.createElement("div"),this.$secureText=document.createTextNode(""),this.$secureDiv.appendChild(this.$secureText)}},{key:"secureText",value:function(t){return t&&this.enableSecureText?(this.$secureText.nodeValue=D.replaceDoubleQuotesWithHTML(t),this.$secureDiv.innerHTML):t}},{key:"toggleRequired",value:function(t){this.required=D.convertToBoolean(t),this.$ele.required=this.required}},{key:"toggleOptionSelectedState",value:function(t,e){var i=e;i===void 0&&(i=!n.hasClass(t,"selected")),n.toggleClass(t,"selected",i),n.setAria(t,"selected",i)}},{key:"toggleOptionFocusedState",value:function(t,e){t&&(n.toggleClass(t,"focused",e),n.setAttr(t,"tabindex",e?"0":"-1"),document.activeElement!==this.$searchInput&&t.focus(),e&&n.setAria(this.$wrapper,"activedescendant",t.id))}}],y=[{key:"init",value:function(t){var e=t.ele;if(e){var i=!1;if(typeof e=="string"){var o=(e=document.querySelectorAll(e)).length;if(o===0)return;o===1&&(i=!0)}e.length!==void 0&&e.forEach!==void 0||(e=[e],i=!0);var r=[];return e.forEach(function(v){v.virtualSelect?r.push(v.virtualSelect):(t.ele=v,v.tagName==="SELECT"&&l.setPropsFromSelect(t),r.push(new l(t)))}),i?r[0]:r}}},{key:"getAttrProps",value:function(){var t=n.convertPropToDataAttr,e={};return K.forEach(function(i){e[i]=i}),_.forEach(function(i){e[t(i)]=i}),e}},{key:"setPropsFromSelect",value:function(t){var e=t.ele,i=[],o=[],r=function(E){var A=[];return Array.from(E.children).forEach(function(x){var M=x.value,F={value:M};x.tagName==="OPTGROUP"?(F.label=x.getAttribute("label"),F.options=r(x)):F.label=x.innerHTML,A.push(F),x.disabled&&i.push(M),x.selected&&o.push(M)}),A},v=r(e),d=document.createElement("div");n.setAttrFromEle(e,d,Object.keys(V),z),e.parentNode.insertBefore(d,e),e.remove(),t.ele=d,t.options=v,t.disabledOptions=i,t.selectedValue=o}},{key:"onFormReset",value:function(t){var e=t.target.closest("form");e&&e.querySelectorAll(".vscomp-ele-wrapper").forEach(function(i){i.parentElement.virtualSelect.reset(!0)})}},{key:"onFormSubmit",value:function(t){l.validate(t.target.closest("form"))||t.preventDefault()}},{key:"validate",value:function(t){if(!t)return!0;var e=!1;return t.querySelectorAll(".vscomp-ele-wrapper").forEach(function(i){var o=i.parentElement.virtualSelect.validate();e||o||(e=!0)}),!e}},{key:"reset",value:function(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],e=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.virtualSelect.reset(t,e)}},{key:"setValueMethod",value:function(){var t;(t=this.virtualSelect).setValueMethod.apply(t,arguments)}},{key:"setOptionsMethod",value:function(){var t;(t=this.virtualSelect).setOptionsMethod.apply(t,arguments)}},{key:"setDisabledOptionsMethod",value:function(){var t;(t=this.virtualSelect).setDisabledOptionsMethod.apply(t,arguments)}},{key:"setEnabledOptionsMethod",value:function(){var t;(t=this.virtualSelect).setEnabledOptionsMethod.apply(t,arguments)}},{key:"toggleSelectAll",value:function(t){this.virtualSelect.toggleAllOptions(t)}},{key:"isAllSelected",value:function(){return this.virtualSelect.isAllSelected}},{key:"addOptionMethod",value:function(t){this.virtualSelect.addOption(t,!0)}},{key:"getNewValueMethod",value:function(){return this.virtualSelect.getNewValue()}},{key:"getDisplayValueMethod",value:function(){return this.virtualSelect.getDisplayValue()}},{key:"getSelectedOptionsMethod",value:function(t){return this.virtualSelect.getSelectedOptions(t)}},{key:"getDisabledOptionsMethod",value:function(){return this.virtualSelect.getDisabledOptions()}},{key:"openMethod",value:function(){return this.virtualSelect.openDropbox()}},{key:"closeMethod",value:function(){return this.virtualSelect.closeDropbox()}},{key:"focusMethod",value:function(){return this.virtualSelect.focus()}},{key:"enableMethod",value:function(){return this.virtualSelect.enable()}},{key:"disableMethod",value:function(){return this.virtualSelect.disable()}},{key:"destroyMethod",value:function(){return this.virtualSelect.destroy()}},{key:"validateMethod",value:function(){return this.virtualSelect.validate()}},{key:"toggleRequiredMethod",value:function(t){return this.virtualSelect.toggleRequired(t)}},{key:"onResizeMethod",value:function(){document.querySelectorAll(".vscomp-ele-wrapper").forEach(function(t){t.parentElement.virtualSelect.onResize()})}}],c&&g(u.prototype,c),y&&g(u,y),Object.defineProperty(u,"prototype",{writable:!1}),u;var u,c,y}();document.addEventListener("reset",$.onFormReset),document.addEventListener("submit",$.onFormSubmit),window.addEventListener("resize",$.onResizeMethod),V=$.getAttrProps(),window.VirtualSelect=$,typeof NodeList<"u"&&NodeList.prototype&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach)})(),function(){"use strict";function J(T){return function(k){if(Array.isArray(k))return Q(k)}(T)||function(k){if(typeof Symbol<"u"&&k[Symbol.iterator]!=null||k["@@iterator"]!=null)return Array.from(k)}(T)||function(k,a){if(k){if(typeof k=="string")return Q(k,a);var p=Object.prototype.toString.call(k).slice(8,-1);return p==="Object"&&k.constructor&&(p=k.constructor.name),p==="Map"||p==="Set"?Array.from(k):p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p)?Q(k,a):void 0}}(T)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Q(T,k){(k==null||k>T.length)&&(k=T.length);for(var a=0,p=new Array(k);a<k;a++)p[a]=T[a];return p}var P=function(){function T(){(function(a,p){if(!(a instanceof p))throw new TypeError("Cannot call a class as a function")})(this,T)}var k;return k=[{key:"addClass",value:function(a,p){a&&(p=p.split(" "),T.getElements(a).forEach(function(m){var s;(s=m.classList).add.apply(s,J(p))}))}},{key:"removeClass",value:function(a,p){a&&(p=p.split(" "),T.getElements(a).forEach(function(m){var s;(s=m.classList).remove.apply(s,J(p))}))}},{key:"getElements",value:function(a){if(a)return a.forEach===void 0&&(a=[a]),a}},{key:"getMoreVisibleSides",value:function(a){if(!a)return{};var p=a.getBoundingClientRect(),m=window.innerWidth,s=window.innerHeight,w=p.left,n=p.top;return{horizontal:w>m-w-p.width?"left":"right",vertical:n>s-n-p.height?"top":"bottom"}}},{key:"getAbsoluteCoords",value:function(a){if(a){var p=a.getBoundingClientRect(),m=window.pageXOffset,s=window.pageYOffset;return{width:p.width,height:p.height,top:p.top+s,right:p.right+m,bottom:p.bottom+s,left:p.left+m}}}},{key:"getCoords",value:function(a){return a?a.getBoundingClientRect():{}}},{key:"getData",value:function(a,p,m){if(a){var s=a?a.dataset[p]:"";return m==="number"?s=parseFloat(s)||0:s==="true"?s=!0:s==="false"&&(s=!1),s}}},{key:"setData",value:function(a,p,m){a&&(a.dataset[p]=m)}},{key:"setStyle",value:function(a,p,m){a&&(a.style[p]=m)}},{key:"show",value:function(a){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";T.setStyle(a,"display",p)}},{key:"hide",value:function(a){T.setStyle(a,"display","none")}},{key:"getHideableParent",value:function(a){for(var p,m=a.parentElement;m;){var s=getComputedStyle(m).overflow;if(s.indexOf("scroll")!==-1||s.indexOf("auto")!==-1){p=m;break}m=m.parentElement}return p}}],k&&function(a,p){for(var m=0;m<p.length;m++){var s=p[m];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(a,s.key,s)}}(T,k),T}(),I=["top","bottom","left","right"].map(function(T){return"position-".concat(T)}),j={top:"rotate(180deg)",left:"rotate(90deg)",right:"rotate(-90deg)"},D=function(){function T(a){(function(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")})(this,T);try{this.setProps(a),this.init()}catch(p){console.warn("Couldn't initiate popper"),console.error(p)}}var k;return k=[{key:"init",value:function(){var a=this.$popperEle;a&&this.$triggerEle&&(P.setStyle(a,"zIndex",this.zIndex),this.setPosition())}},{key:"setProps",value:function(a){var p=(a=this.setDefaultProps(a)).position?a.position.toLowerCase():"auto";if(this.$popperEle=a.$popperEle,this.$triggerEle=a.$triggerEle,this.$arrowEle=a.$arrowEle,this.margin=parseFloat(a.margin),this.offset=parseFloat(a.offset),this.enterDelay=parseFloat(a.enterDelay),this.exitDelay=parseFloat(a.exitDelay),this.showDuration=parseFloat(a.showDuration),this.hideDuration=parseFloat(a.hideDuration),this.transitionDistance=parseFloat(a.transitionDistance),this.zIndex=parseFloat(a.zIndex),this.afterShowCallback=a.afterShow,this.afterHideCallback=a.afterHide,this.hasArrow=!!this.$arrowEle,p.indexOf(" ")!==-1){var m=p.split(" ");this.position=m[0],this.secondaryPosition=m[1]}else this.position=p}},{key:"setDefaultProps",value:function(a){return Object.assign({position:"auto",margin:8,offset:5,enterDelay:0,exitDelay:0,showDuration:300,hideDuration:200,transitionDistance:10,zIndex:1},a)}},{key:"setPosition",value:function(){P.show(this.$popperEle,"inline-flex");var a,p,m,s=window.innerWidth,w=window.innerHeight,n=P.getAbsoluteCoords(this.$popperEle),L=P.getAbsoluteCoords(this.$triggerEle),G=n.width,H=n.height,O=n.top,b=n.right,S=n.bottom,f=n.left,h=L.width,g=L.height,C=L.top,V=L.right,W=L.bottom,z=L.left,K=C-O,_=z-f,$=_,l=K,u=this.position,c=this.secondaryPosition,y=h/2-G/2,t=g/2-H/2,e=this.margin,i=this.transitionDistance,o=window.scrollY-O,r=w+o,v=window.scrollX-f,d=s+v,E=this.offset;E&&(o+=E,r-=E,v+=E,d-=E),u==="auto"&&(u=P.getMoreVisibleSides(this.$triggerEle).vertical);var A={top:{top:l-H-e,left:$+y},bottom:{top:l+g+e,left:$+y},right:{top:l+t,left:$+h+e},left:{top:l+t,left:$-G-e}},x=A[u];if(l=x.top,$=x.left,c&&(c==="top"?l=K:c==="bottom"?l=K+g-H:c==="left"?$=_:c==="right"&&($=_+h-G)),$<v?u==="left"?m="right":$=v+f>V?V-f:v:$+G>d&&(u==="right"?m="left":$=d+f<z?z-b:d-G),l<o?u==="top"?m="bottom":l=o+O>W?W-O:o:l+H>r&&(u==="bottom"?m="top":l=r+O<C?C-S:r-H),m){var M=A[m];(u=m)==="top"||u==="bottom"?l=M.top:u!=="left"&&u!=="right"||($=M.left)}u==="top"?(a=l+i,p=$):u==="right"?(a=l,p=$-i):u==="left"?(a=l,p=$+i):(a=l-i,p=$);var F="translate3d(".concat(parseInt(p),"px, ").concat(parseInt(a),"px, 0)");if(P.setStyle(this.$popperEle,"transform",F),P.setData(this.$popperEle,"fromLeft",p),P.setData(this.$popperEle,"fromTop",a),P.setData(this.$popperEle,"top",l),P.setData(this.$popperEle,"left",$),P.removeClass(this.$popperEle,I.join(" ")),P.addClass(this.$popperEle,"position-".concat(u)),this.hasArrow){var Z=0,U=0,tt=$+f,B=l+O,N=this.$arrowEle.offsetWidth/2,Y=j[u]||"";u==="top"||u==="bottom"?(Z=h/2+z-tt)<N?Z=N:Z>G-N&&(Z=G-N):u!=="left"&&u!=="right"||((U=g/2+C-B)<N?U=N:U>H-N&&(U=H-N)),P.setStyle(this.$arrowEle,"transform","translate3d(".concat(parseInt(Z),"px, ").concat(parseInt(U),"px, 0) ").concat(Y))}P.hide(this.$popperEle)}},{key:"resetPosition",value:function(){P.setStyle(this.$popperEle,"transform","none"),this.setPosition()}},{key:"show",value:function(){var a=this,p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=p.resetPosition,s=p.data;clearTimeout(this.exitDelayTimeout),clearTimeout(this.hideDurationTimeout),m&&this.resetPosition(),this.enterDelayTimeout=setTimeout(function(){var w=P.getData(a.$popperEle,"left"),n=P.getData(a.$popperEle,"top"),L="translate3d(".concat(parseInt(w),"px, ").concat(parseInt(n),"px, 0)"),G=a.showDuration;P.show(a.$popperEle,"inline-flex"),P.getCoords(a.$popperEle),P.setStyle(a.$popperEle,"transitionDuration",G+"ms"),P.setStyle(a.$popperEle,"transform",L),P.setStyle(a.$popperEle,"opacity",1),a.showDurationTimeout=setTimeout(function(){typeof a.afterShowCallback=="function"&&a.afterShowCallback(s)},G)},this.enterDelay)}},{key:"hide",value:function(){var a=this,p=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).data;clearTimeout(this.enterDelayTimeout),clearTimeout(this.showDurationTimeout),this.exitDelayTimeout=setTimeout(function(){if(a.$popperEle){var m=parseInt(P.getData(a.$popperEle,"fromLeft")),s=parseInt(P.getData(a.$popperEle,"fromTop")),w="translate3d(".concat(m,"px, ").concat(s,"px, 0)"),n=a.hideDuration;P.setStyle(a.$popperEle,"transitionDuration",n+"ms"),P.setStyle(a.$popperEle,"transform",w),P.setStyle(a.$popperEle,"opacity",0),a.hideDurationTimeout=setTimeout(function(){P.hide(a.$popperEle),typeof a.afterHideCallback=="function"&&a.afterHideCallback(p)},n)}},this.exitDelay)}},{key:"updatePosition",value:function(){P.setStyle(this.$popperEle,"transitionDuration","0ms"),this.resetPosition();var a=parseInt(P.getData(this.$popperEle,"left")),p=parseInt(P.getData(this.$popperEle,"top"));P.show(this.$popperEle,"inline-flex"),P.setStyle(this.$popperEle,"transform","translate3d(".concat(a,"px, ").concat(p,"px, 0)"))}}],k&&function(a,p){for(var m=0;m<p.length;m++){var s=p[m];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(a,s.key,s)}}(T.prototype,k),T}();window.PopperComponent=D}(),function(){"use strict";function J(O){return(J=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(O)}function Q(O,b){for(var S=0;S<b.length;S++){var f=b[S];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(O,P(f.key),f)}}function P(O){var b=function(S,f){if(J(S)!="object"||!S)return S;var h=S[Symbol.toPrimitive];if(h!==void 0){var g=h.call(S,"string");if(J(g)!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(S)}(O);return J(b)=="symbol"?b:b+""}var I=function(){return O=function S(){(function(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")})(this,S)},b=[{key:"convertToBoolean",value:function(S){return S===!0||S==="true"||S!==!1&&S!=="false"&&arguments.length>1&&arguments[1]!==void 0&&arguments[1]}},{key:"removeArrayEmpty",value:function(S){return Array.isArray(S)&&S.length?S.filter(function(f){return!!f}):[]}},{key:"throttle",value:function(S,f){var h,g=0;return function(){for(var C=arguments.length,V=new Array(C),W=0;W<C;W++)V[W]=arguments[W];var z=new Date().getTime(),K=f-(z-g);clearTimeout(h),K<=0?(g=z,S.apply(void 0,V)):h=setTimeout(function(){S.apply(void 0,V)},K)}}}],b&&Q(O,b),Object.defineProperty(O,"prototype",{writable:!1}),O;var O,b}();function j(O){return j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},j(O)}function D(O){return function(b){if(Array.isArray(b))return T(b)}(O)||function(b){if(typeof Symbol<"u"&&b[Symbol.iterator]!=null||b["@@iterator"]!=null)return Array.from(b)}(O)||function(b,S){if(b){if(typeof b=="string")return T(b,S);var f=Object.prototype.toString.call(b).slice(8,-1);return f==="Object"&&b.constructor&&(f=b.constructor.name),f==="Map"||f==="Set"?Array.from(b):f==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f)?T(b,S):void 0}}(O)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function T(O,b){(b==null||b>O.length)&&(b=O.length);for(var S=0,f=new Array(b);S<b;S++)f[S]=O[S];return f}function k(O,b){for(var S=0;S<b.length;S++){var f=b[S];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(O,a(f.key),f)}}function a(O){var b=function(S,f){if(j(S)!="object"||!S)return S;var h=S[Symbol.toPrimitive];if(h!==void 0){var g=h.call(S,"string");if(j(g)!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(S)}(O);return j(b)=="symbol"?b:b+""}var p=function(){function O(){(function(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")})(this,O)}return b=O,S=[{key:"addClass",value:function(f,h){f&&(h=h.split(" "),O.getElements(f).forEach(function(g){var C;(C=g.classList).add.apply(C,D(h))}))}},{key:"removeClass",value:function(f,h){f&&(h=h.split(" "),O.getElements(f).forEach(function(g){var C;(C=g.classList).remove.apply(C,D(h))}))}},{key:"hasClass",value:function(f,h){return!!f&&f.classList.contains(h)}},{key:"getElement",value:function(f){return f&&(typeof f=="string"?f=document.querySelector(f):f.length!==void 0&&(f=f[0])),f||null}},{key:"getElements",value:function(f){if(f)return f.forEach===void 0&&(f=[f]),f}},{key:"addEvent",value:function(f,h,g){O.addOrRemoveEvent(f,h,g,"add")}},{key:"removeEvent",value:function(f,h,g){O.addOrRemoveEvent(f,h,g,"remove")}},{key:"addOrRemoveEvent",value:function(f,h,g,C){f&&(h=I.removeArrayEmpty(h.split(" "))).forEach(function(V){(f=O.getElements(f)).forEach(function(W){C==="add"?W.addEventListener(V,g):W.removeEventListener(V,g)})})}},{key:"getScrollableParents",value:function(f){if(!f)return[];for(var h=[window],g=f.parentElement;g;){var C=getComputedStyle(g).overflow;C.indexOf("scroll")===-1&&C.indexOf("auto")===-1||h.push(g),g=g.parentElement}return h}},{key:"convertPropToDataAttr",value:function(f){return f?"data-popover-".concat(f).replace(/([A-Z])/g,"-$1").toLowerCase():""}}],S&&k(b,S),Object.defineProperty(b,"prototype",{writable:!1}),b;var b,S}();function m(O){return m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},m(O)}function s(O,b){for(var S=0;S<b.length;S++){var f=b[S];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(O,w(f.key),f)}}function w(O){var b=function(S,f){if(m(S)!="object"||!S)return S;var h=S[Symbol.toPrimitive];if(h!==void 0){var g=h.call(S,"string");if(m(g)!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(S)}(O);return m(b)=="symbol"?b:b+""}var n,L={27:"onEscPress"},G=["target","position","margin","offset","enterDelay","exitDelay","showDuration","hideDuration","transitionDistance","updatePositionThrottle","zIndex","hideOnOuterClick","showOnHover","hideArrowIcon","disableManualAction","disableUpdatePosition"],H=function(){function O(h){(function(g,C){if(!(g instanceof C))throw new TypeError("Cannot call a class as a function")})(this,O);try{this.setProps(h),this.init()}catch(g){console.warn("Couldn't initiate Popover component"),console.error(g)}}return b=O,f=[{key:"init",value:function(h){var g=h.ele;if(g){var C=!1;if(typeof g=="string"){if(!(g=document.querySelectorAll(g)))return;g.length===1&&(C=!0)}g.length===void 0&&(g=[g],C=!0);var V=[];return g.forEach(function(W){h.ele=W,O.destroy(W),V.push(new O(h))}),C?V[0]:V}}},{key:"destroy",value:function(h){if(h){var g=h.popComp;g&&g.destroy()}}},{key:"showMethod",value:function(){this.popComp.show()}},{key:"hideMethod",value:function(){this.popComp.hide()}},{key:"updatePositionMethod",value:function(){this.popComp.popper.updatePosition()}},{key:"getAttrProps",value:function(){var h=p.convertPropToDataAttr,g={};return G.forEach(function(C){g[h(C)]=C}),g}}],(S=[{key:"init",value:function(){this.$popover&&(this.setElementProps(),this.renderArrow(),this.initPopper(),this.addEvents())}},{key:"getEvents",value:function(){var h=[{$ele:document,event:"click",method:"onDocumentClick"},{$ele:document,event:"keydown",method:"onDocumentKeyDown"}];return this.disableManualAction||(h.push({$ele:this.$ele,event:"click",method:"onTriggerEleClick"}),this.showOnHover&&(h.push({$ele:this.$ele,event:"mouseenter",method:"onTriggerEleMouseEnter"}),h.push({$ele:this.$ele,event:"mouseleave",method:"onTriggerEleMouseLeave"}))),h}},{key:"addOrRemoveEvents",value:function(h){var g=this;this.getEvents().forEach(function(C){g.addOrRemoveEvent({action:h,$ele:C.$ele,events:C.event,method:C.method})})}},{key:"addEvents",value:function(){this.addOrRemoveEvents("add")}},{key:"removeEvents",value:function(){this.addOrRemoveEvents("remove"),this.removeScrollEventListeners(),this.removeResizeEventListeners()}},{key:"addOrRemoveEvent",value:function(h){var g=this,C=h.action,V=h.$ele,W=h.events,z=h.method,K=h.throttle;V&&(W=I.removeArrayEmpty(W.split(" "))).forEach(function(_){var $="".concat(z,"-").concat(_),l=g.events[$];l||(l=g[z].bind(g),K&&(l=I.throttle(l,K)),g.events[$]=l),C==="add"?p.addEvent(V,_,l):p.removeEvent(V,_,l)})}},{key:"addScrollEventListeners",value:function(){this.$scrollableElems=p.getScrollableParents(this.$ele),this.addOrRemoveEvent({action:"add",$ele:this.$scrollableElems,events:"scroll",method:"onAnyParentScroll",throttle:this.updatePositionThrottle})}},{key:"removeScrollEventListeners",value:function(){this.$scrollableElems&&(this.addOrRemoveEvent({action:"remove",$ele:this.$scrollableElems,events:"scroll",method:"onAnyParentScroll"}),this.$scrollableElems=null)}},{key:"addResizeEventListeners",value:function(){this.addOrRemoveEvent({action:"add",$ele:window,events:"resize",method:"onResize",throttle:this.updatePositionThrottle})}},{key:"removeResizeEventListeners",value:function(){this.addOrRemoveEvent({action:"remove",$ele:window,events:"resize",method:"onResize"})}},{key:"onAnyParentScroll",value:function(){this.popper.updatePosition()}},{key:"onResize",value:function(){this.popper.updatePosition()}},{key:"onDocumentClick",value:function(h){var g=h.target,C=g.closest(".pop-comp-ele"),V=g.closest(".pop-comp-wrapper");this.hideOnOuterClick&&C!==this.$ele&&V!==this.$popover&&this.hide()}},{key:"onDocumentKeyDown",value:function(h){var g=h.which||h.keyCode,C=L[g];C&&this[C](h)}},{key:"onEscPress",value:function(){this.hideOnOuterClick&&this.hide()}},{key:"onTriggerEleClick",value:function(){this.toggle()}},{key:"onTriggerEleMouseEnter",value:function(){this.show()}},{key:"onTriggerEleMouseLeave",value:function(){this.hide()}},{key:"setProps",value:function(h){h=this.setDefaultProps(h),this.setPropsFromElementAttr(h);var g=I.convertToBoolean;this.$ele=h.ele,this.target=h.target,this.position=h.position,this.margin=parseFloat(h.margin),this.offset=parseFloat(h.offset),this.enterDelay=parseFloat(h.enterDelay),this.exitDelay=parseFloat(h.exitDelay),this.showDuration=parseFloat(h.showDuration),this.hideDuration=parseFloat(h.hideDuration),this.transitionDistance=parseFloat(h.transitionDistance),this.updatePositionThrottle=parseFloat(h.updatePositionThrottle),this.zIndex=parseFloat(h.zIndex),this.hideOnOuterClick=g(h.hideOnOuterClick),this.showOnHover=g(h.showOnHover),this.hideArrowIcon=g(h.hideArrowIcon),this.disableManualAction=g(h.disableManualAction),this.disableUpdatePosition=g(h.disableUpdatePosition),this.beforeShowCallback=h.beforeShow,this.afterShowCallback=h.afterShow,this.beforeHideCallback=h.beforeHide,this.afterHideCallback=h.afterHide,this.events={},this.$popover=p.getElement(this.target)}},{key:"setDefaultProps",value:function(h){return Object.assign({position:"auto",margin:8,offset:5,enterDelay:0,exitDelay:0,showDuration:300,hideDuration:200,transitionDistance:10,updatePositionThrottle:100,zIndex:1,hideOnOuterClick:!0,showOnHover:!1,hideArrowIcon:!1,disableManualAction:!1,disableUpdatePosition:!1},h)}},{key:"setPropsFromElementAttr",value:function(h){var g=h.ele;for(var C in n){var V=g.getAttribute(C);V&&(h[n[C]]=V)}}},{key:"setElementProps",value:function(){var h=this.$ele;h.popComp=this,h.show=O.showMethod,h.hide=O.hideMethod,h.updatePosition=O.updatePositionMethod,p.addClass(this.$ele,"pop-comp-ele"),p.addClass(this.$popover,"pop-comp-wrapper")}},{key:"getOtherTriggerPopComp",value:function(){var h,g=this.$popover.popComp;return g&&g.$ele!==this.$ele&&(h=g),h}},{key:"initPopper",value:function(){var h={$popperEle:this.$popover,$triggerEle:this.$ele,$arrowEle:this.$arrowEle,position:this.position,margin:this.margin,offset:this.offset,enterDelay:this.enterDelay,exitDelay:this.exitDelay,showDuration:this.showDuration,hideDuration:this.hideDuration,transitionDistance:this.transitionDistance,zIndex:this.zIndex,afterShow:this.afterShow.bind(this),afterHide:this.afterHide.bind(this)};this.popper=new PopperComponent(h)}},{key:"beforeShow",value:function(){typeof this.beforeShowCallback=="function"&&this.beforeShowCallback(this)}},{key:"beforeHide",value:function(){typeof this.beforeHideCallback=="function"&&this.beforeHideCallback(this)}},{key:"show",value:function(){this.isShown()||(this.isShownForOtherTrigger()?this.showAfterOtherHide():(p.addClass(this.$popover,"pop-comp-disable-events"),this.$popover.popComp=this,this.beforeShow(),this.popper.show({resetPosition:!0}),p.addClass(this.$ele,"pop-comp-active")))}},{key:"hide",value:function(){this.isShown()&&(this.beforeHide(),this.popper.hide(),this.removeScrollEventListeners(),this.removeResizeEventListeners())}},{key:"toggle",value:function(h){h===void 0&&(h=!this.isShown()),h?this.show():this.hide()}},{key:"isShown",value:function(){return p.hasClass(this.$ele,"pop-comp-active")}},{key:"isShownForOtherTrigger",value:function(){var h=this.getOtherTriggerPopComp();return!!h&&h.isShown()}},{key:"showAfterOtherHide",value:function(){var h=this,g=this.getOtherTriggerPopComp();if(g){var C=g.exitDelay+g.hideDuration+100;setTimeout(function(){h.show()},C)}}},{key:"afterShow",value:function(){var h=this;this.showOnHover?setTimeout(function(){p.removeClass(h.$popover,"pop-comp-disable-events")},2e3):p.removeClass(this.$popover,"pop-comp-disable-events"),this.disableUpdatePosition||(this.addScrollEventListeners(),this.addResizeEventListeners()),typeof this.afterShowCallback=="function"&&this.afterShowCallback(this)}},{key:"afterHide",value:function(){p.removeClass(this.$ele,"pop-comp-active"),typeof this.afterHideCallback=="function"&&this.afterHideCallback(this)}},{key:"renderArrow",value:function(){if(!this.hideArrowIcon){var h=this.$popover.querySelector(".pop-comp-arrow");h||(this.$popover.insertAdjacentHTML("afterbegin",'<i class="pop-comp-arrow"></i>'),h=this.$popover.querySelector(".pop-comp-arrow")),this.$arrowEle=h}}},{key:"destroy",value:function(){this.removeEvents()}}])&&s(b.prototype,S),f&&s(b,f),Object.defineProperty(b,"prototype",{writable:!1}),b;var b,S,f}();n=H.getAttrProps(),window.PopoverComponent=H}();(function(){"use strict";function J(a){return function(p){if(Array.isArray(p))return Q(p)}(a)||function(p){if(typeof Symbol<"u"&&p[Symbol.iterator]!=null||p["@@iterator"]!=null)return Array.from(p)}(a)||function(p,m){if(p){if(typeof p=="string")return Q(p,m);var s=Object.prototype.toString.call(p).slice(8,-1);return s==="Object"&&p.constructor&&(s=p.constructor.name),s==="Map"||s==="Set"?Array.from(p):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?Q(p,m):void 0}}(a)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Q(a,p){(p==null||p>a.length)&&(p=a.length);for(var m=0,s=new Array(p);m<p;m++)s[m]=a[m];return s}function P(a,p){for(var m=0;m<p.length;m++){var s=p[m];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(a,s.key,s)}}var I=function(){function a(){(function(s,w){if(!(s instanceof w))throw new TypeError("Cannot call a class as a function")})(this,a)}var p,m;return p=a,(m=[{key:"addClass",value:function(s,w){s&&(w=w.split(" "),a.getElements(s).forEach(function(n){var L;(L=n.classList).add.apply(L,J(w))}))}},{key:"removeClass",value:function(s,w){s&&(w=w.split(" "),a.getElements(s).forEach(function(n){var L;(L=n.classList).remove.apply(L,J(w))}))}},{key:"getElements",value:function(s){if(s)return s.forEach===void 0&&(s=[s]),s}},{key:"getMoreVisibleSides",value:function(s){if(!s)return{};var w=s.getBoundingClientRect(),n=window.innerWidth,L=window.innerHeight,G=w.left,H=w.top;return{horizontal:G>n-G-w.width?"left":"right",vertical:H>L-H-w.height?"top":"bottom"}}},{key:"getAbsoluteCoords",value:function(s){if(s){var w=s.getBoundingClientRect(),n=window.pageXOffset,L=window.pageYOffset;return{width:w.width,height:w.height,top:w.top+L,right:w.right+n,bottom:w.bottom+L,left:w.left+n}}}},{key:"getCoords",value:function(s){return s?s.getBoundingClientRect():{}}},{key:"getData",value:function(s,w,n){if(s){var L=s?s.dataset[w]:"";return n==="number"?L=parseFloat(L)||0:L==="true"?L=!0:L==="false"&&(L=!1),L}}},{key:"setData",value:function(s,w,n){s&&(s.dataset[w]=n)}},{key:"setStyle",value:function(s,w,n){s&&(s.style[w]=n)}},{key:"show",value:function(s){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";a.setStyle(s,"display",w)}},{key:"hide",value:function(s){a.setStyle(s,"display","none")}},{key:"getHideableParent",value:function(s){for(var w,n=s.parentElement;n;){var L=getComputedStyle(n).overflow;if(L.indexOf("scroll")!==-1||L.indexOf("auto")!==-1){w=n;break}n=n.parentElement}return w}}])&&P(p,m),a}();function j(a,p){for(var m=0;m<p.length;m++){var s=p[m];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(a,s.key,s)}}var D=["top","bottom","left","right"].map(function(a){return"position-".concat(a)}),T={top:"rotate(180deg)",left:"rotate(90deg)",right:"rotate(-90deg)"},k=function(){function a(s){(function(w,n){if(!(w instanceof n))throw new TypeError("Cannot call a class as a function")})(this,a);try{this.setProps(s),this.init()}catch(w){console.warn("Couldn't initiate popper"),console.error(w)}}var p,m;return p=a,(m=[{key:"init",value:function(){var s=this.$popperEle;s&&this.$triggerEle&&(I.setStyle(s,"zIndex",this.zIndex),this.setPosition())}},{key:"setProps",value:function(s){var w=(s=this.setDefaultProps(s)).position?s.position.toLowerCase():"auto";if(this.$popperEle=s.$popperEle,this.$triggerEle=s.$triggerEle,this.$arrowEle=s.$arrowEle,this.margin=parseFloat(s.margin),this.offset=parseFloat(s.offset),this.enterDelay=parseFloat(s.enterDelay),this.exitDelay=parseFloat(s.exitDelay),this.showDuration=parseFloat(s.showDuration),this.hideDuration=parseFloat(s.hideDuration),this.transitionDistance=parseFloat(s.transitionDistance),this.zIndex=parseFloat(s.zIndex),this.afterShowCallback=s.afterShow,this.afterHideCallback=s.afterHide,this.hasArrow=!!this.$arrowEle,w.indexOf(" ")!==-1){var n=w.split(" ");this.position=n[0],this.secondaryPosition=n[1]}else this.position=w}},{key:"setDefaultProps",value:function(s){return Object.assign({position:"auto",margin:8,offset:5,enterDelay:0,exitDelay:0,showDuration:300,hideDuration:200,transitionDistance:10,zIndex:1},s)}},{key:"setPosition",value:function(){I.show(this.$popperEle,"inline-flex");var s,w,n,L=window.innerWidth,G=window.innerHeight,H=I.getAbsoluteCoords(this.$popperEle),O=I.getAbsoluteCoords(this.$triggerEle),b=H.width,S=H.height,f=H.top,h=H.right,g=H.bottom,C=H.left,V=O.width,W=O.height,z=O.top,K=O.right,_=O.bottom,$=O.left,l=z-f,u=$-C,c=u,y=l,t=this.position,e=this.secondaryPosition,i=V/2-b/2,o=W/2-S/2,r=this.margin,v=this.transitionDistance,d=window.scrollY-f,E=G+d,A=window.scrollX-C,x=L+A,M=this.offset;M&&(d+=M,E-=M,A+=M,x-=M),t==="auto"&&(t=I.getMoreVisibleSides(this.$triggerEle).vertical);var F={top:{top:y-S-r,left:c+i},bottom:{top:y+W+r,left:c+i},right:{top:y+o,left:c+V+r},left:{top:y+o,left:c-b-r}},Z=F[t];if(y=Z.top,c=Z.left,e&&(e==="top"?y=l:e==="bottom"?y=l+W-S:e==="left"?c=u:e==="right"&&(c=u+V-b)),c<A?t==="left"?n="right":c=A+C>K?K-C:A:c+b>x&&(t==="right"?n="left":c=x+C<$?$-h:x-b),y<d?t==="top"?n="bottom":y=d+f>_?_-f:d:y+S>E&&(t==="bottom"?n="top":y=E+f<z?z-g:E-S),n){var U=F[n];(t=n)==="top"||t==="bottom"?y=U.top:t!=="left"&&t!=="right"||(c=U.left)}t==="top"?(s=y+v,w=c):t==="right"?(s=y,w=c-v):t==="left"?(s=y,w=c+v):(s=y-v,w=c);var tt="translate3d(".concat(w,"px, ").concat(s,"px, 0)");if(I.setStyle(this.$popperEle,"transform",tt),I.setData(this.$popperEle,"fromLeft",w),I.setData(this.$popperEle,"fromTop",s),I.setData(this.$popperEle,"top",y),I.setData(this.$popperEle,"left",c),I.removeClass(this.$popperEle,D.join(" ")),I.addClass(this.$popperEle,"position-".concat(t)),this.hasArrow){var B=0,N=0,Y=c+C,X=y+f,R=this.$arrowEle.offsetWidth/2,q=T[t]||"";t==="top"||t==="bottom"?(B=V/2+$-Y)<R?B=R:B>b-R&&(B=b-R):t!=="left"&&t!=="right"||((N=W/2+z-X)<R?N=R:N>S-R&&(N=S-R)),I.setStyle(this.$arrowEle,"transform","translate3d(".concat(B,"px, ").concat(N,"px, 0) ").concat(q))}I.hide(this.$popperEle)}},{key:"resetPosition",value:function(){I.setStyle(this.$popperEle,"transform","none"),this.setPosition()}},{key:"show",value:function(){var s=this,w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=w.resetPosition,L=w.data;clearTimeout(this.exitDelayTimeout),clearTimeout(this.hideDurationTimeout),n&&this.resetPosition(),this.enterDelayTimeout=setTimeout(function(){var G=I.getData(s.$popperEle,"left"),H=I.getData(s.$popperEle,"top"),O="translate3d(".concat(G,"px, ").concat(H,"px, 0)"),b=s.showDuration;I.show(s.$popperEle,"inline-flex"),I.getCoords(s.$popperEle),I.setStyle(s.$popperEle,"transitionDuration",b+"ms"),I.setStyle(s.$popperEle,"transform",O),I.setStyle(s.$popperEle,"opacity",1),s.showDurationTimeout=setTimeout(function(){typeof s.afterShowCallback=="function"&&s.afterShowCallback(L)},b)},this.enterDelay)}},{key:"hide",value:function(){var s=this,w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=w.data;clearTimeout(this.enterDelayTimeout),clearTimeout(this.showDurationTimeout),this.exitDelayTimeout=setTimeout(function(){if(s.$popperEle){var L=I.getData(s.$popperEle,"fromLeft"),G=I.getData(s.$popperEle,"fromTop"),H="translate3d(".concat(L,"px, ").concat(G,"px, 0)"),O=s.hideDuration;I.setStyle(s.$popperEle,"transitionDuration",O+"ms"),I.setStyle(s.$popperEle,"transform",H),I.setStyle(s.$popperEle,"opacity",0),s.hideDurationTimeout=setTimeout(function(){I.hide(s.$popperEle),typeof s.afterHideCallback=="function"&&s.afterHideCallback(n)},O)}},this.exitDelay)}},{key:"updatePosition",value:function(){I.setStyle(this.$popperEle,"transitionDuration","0ms"),this.resetPosition();var s=I.getData(this.$popperEle,"left"),w=I.getData(this.$popperEle,"top");I.show(this.$popperEle,"inline-flex"),I.setStyle(this.$popperEle,"transform","translate3d(".concat(s,"px, ").concat(w,"px, 0)"))}}])&&j(p.prototype,m),a}();window.PopperComponent=k})(),function(){"use strict";function J(j,D){for(var T=0;T<D.length;T++){var k=D[T];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(j,k.key,k)}}var Q=function(){function j(){(function(a,p){if(!(a instanceof p))throw new TypeError("Cannot call a class as a function")})(this,j)}var D,T,k;return D=j,k=[{key:"convertToBoolean",value:function(a){var p=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return a=a===!0||a==="true"||a!==!1&&a!=="false"&&p}},{key:"convertToFloat",value:function(a){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return a!==void 0?parseFloat(a):p}}],(T=null)&&J(D.prototype,T),k&&J(D,k),j}();function P(j,D){for(var T=0;T<D.length;T++){var k=D[T];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(j,k.key,k)}}var I=function(){function j(){(function(a,p){if(!(a instanceof p))throw new TypeError("Cannot call a class as a function")})(this,j)}var D,T,k;return D=j,k=[{key:"hasEllipsis",value:function(a){return!!a&&a.scrollWidth>a.offsetWidth}},{key:"setStyle",value:function(a,p,m){a&&(a.style[p]=m)}},{key:"getScrollableParents",value:function(a){if(!a)return[];for(var p=[window],m=a.parentElement;m;){var s=getComputedStyle(m).overflow;s.indexOf("scroll")===-1&&s.indexOf("auto")===-1||p.push(m),m=m.parentElement}return p}}],(T=null)&&P(D.prototype,T),k&&P(D,k),j}();(function(){if(!window.tooltipComponentInitiated){var j,D,T,k,a;window.tooltipComponentInitiated=!0;var p,m={},s=!1;w(),window.addEventListener("load",w)}function w(){s||(j=document.querySelector("body"))&&(document.addEventListener("mouseover",n),document.addEventListener("mouseout",L),document.addEventListener("touchmove",G),document.addEventListener("click",H),s=!0)}function n(S){if(!T){var f=S.target.closest("[data-tooltip]");f&&(T=f,function(){if(T){var h,g=Q.convertToBoolean,C=Q.convertToFloat,V=T.dataset;!(m={tooltip:V.tooltip,position:V.tooltipPosition||"auto",zIndex:C(V.tooltipZIndex,1),enterDelay:C(V.tooltipEnterDelay,0),exitDelay:C(V.tooltipExitDelay,0),fontSize:V.tooltipFontSize||"14px",margin:C(V.tooltipMargin,8),offset:C(V.tooltipOffset,5),showDuration:C(V.tooltipShowDuration,300),hideDuration:C(V.tooltipHideDuration,200),transitionDistance:C(V.tooltipTransitionDistance,10),ellipsisOnly:g(V.tooltipEllipsisOnly),allowHtml:g(V.tooltipAllowHtml),hideOnClick:g(V.tooltipHideOnClick,!0),hideArrowIcon:g(V.tooltipHideArrowIcon),alignment:V.tooltipAlignment||"left",maxWidth:V.tooltipMaxWidth||"300px",additionalClasses:V.tooltipAdditionalClasses}).tooltip||m.ellipsisOnly&&!I.hasEllipsis(T)?O():(D&&D.remove(),function(){var W="tooltip-comp";m.hideArrowIcon&&(W+=" hide-arrow-icon"),m.additionalClasses&&(W+=" "+m.additionalClasses);var z='<div class="'.concat(W,`">
        <i class="tooltip-comp-arrow"></i>
        <div class="tooltip-comp-content"></div>
      </div>`);j.insertAdjacentHTML("beforeend",z);var K=I.setStyle;D=document.querySelector(".tooltip-comp"),k=D.querySelector(".tooltip-comp-arrow");var _=D.querySelector(".tooltip-comp-content");m.allowHtml?_.innerHTML=m.tooltip:_.innerText=m.tooltip,K(D,"zIndex",m.zIndex),K(D,"fontSize",m.fontSize),K(D,"textAlign",m.alignment),K(D,"maxWidth",m.maxWidth)}(),h={$popperEle:D,$triggerEle:T,$arrowEle:k,position:m.position,margin:m.margin,offset:m.offset,enterDelay:m.enterDelay,exitDelay:m.exitDelay,showDuration:m.showDuration,hideDuration:m.hideDuration,transitionDistance:m.transitionDistance,zIndex:m.zIndex},(p=new PopperComponent(h)).show(),(a=I.getScrollableParents(T)).forEach(function(W){W.addEventListener("scroll",b)}))}}())}}function L(S){if(T){for(var f=S.relatedTarget;f;){if(f===T)return;f=f.parentNode}O()}}function G(){O()}function H(){m.hideOnClick&&O()}function O(){(D||T)&&(p&&p.hide(),a&&(a.forEach(function(S){S.removeEventListener("scroll",b)}),a=null),T=null)}function b(){O()}})()}();function ut({canSelectPlaceholder:J,isHtmlAllowed:Q,getOptionLabelUsing:P,getOptionLabelsUsing:I,getOptionsUsing:j,getSearchResultsUsing:D,isAutofocused:T,isMultiple:k,isSearchable:a,hasDynamicOptions:p,hasDynamicSearchResults:m,livewireId:s,loadingMessage:w,maxItems:n,maxItemsMessage:L,noSearchResultsMessage:G,options:H,optionsLimit:O,placeholder:b,position:S,searchDebounce:f,searchingMessage:h,searchPrompt:g,searchableOptionFields:C,state:V,statePath:W,allOptionsSelectedText:z,optionsSelectedText:K,optionSelectedText:_}){return{isSearching:!1,select:null,selectedOptions:[],isStateBeingUpdated:!1,state:V,init:async function(){new VirtualSelect({ele:this.$refs.input,allowHTML:Q,multiple:k,search:a,autofocus:T,hideClearButton:!J,placeholder:b,position:S??"auto",searchPlaceholderText:g,noOptionsText:g,noSearchResultsText:G,searchFields:C??["label"],optionsCount:O,maxValues:n??0,loadingText:w,allOptionsSelectedText:z,optionsSelectedText:K,optionSelectedText:_}),this.select=this.$refs.input,window.addEventListener("filament-virtual-select--selectAll-"+s,()=>this.toggleSelectAll(!0)),window.addEventListener("filament-virtual-select--removeAll-"+s,()=>this.toggleSelectAll(!1)),await this.refreshChoices({withInitialOptions:!0}),[null,void 0,""].includes(this.state)||this.select.setValue(this.formatState(this.state)),this.select.addEventListener("change",()=>{this.isStateBeingUpdated||(this.isStateBeingUpdated=!0,this.state=(this.select.getSelectedOptions()??[]).map($=>$.value).filter($=>$!==""&&$!==null),this.$nextTick(()=>this.isStateBeingUpdated=!1))}),p&&this.select.addEventListener("dropdown-open",async()=>{this.select.setOptions([{label:w,value:"",disabled:!0}]),await this.refreshChoices()}),m&&(this.select.addEventListener("search",async $=>{let l=$.detail.value?.trim();this.isSearching=!0,this.select.setOptions([{label:[null,void 0,""].includes(l)?w:h,value:"",disabled:!0}])}),this.select.addEventListener("search",Alpine.debounce(async $=>{await this.refreshChoices({search:$.detail.value?.trim()}),this.isSearching=!1},f))),k||window.addEventListener("filament-forms::select.refreshSelectedOptionLabel",async $=>{$.detail.livewireId===s&&$.detail.statePath===W&&await this.refreshChoices({withInitialOptions:!1})}),this.$watch("state",async()=>{this.select&&(this.isStateBeingUpdated||await this.refreshChoices({withInitialOptions:!p}))})},destroy:function(){this.select=null},toggleSelectAll:function($){this.select.toggleSelectAll($)},refreshChoices:async function($={}){let l=await this.getChoices($);console.log("select config",this.select),this.select&&(this.select?.reset(!0),this.select.setOptions(l),[null,void 0,""].includes(this.state)||this.select.setValue(this.formatState(this.state)))},setChoices:function($){this.select.setOptions($)},getChoices:async function($={}){let l=await this.getExistingOptions($);return l.concat(await this.getMissingOptions(l))},getExistingOptions:async function({search:$,withInitialOptions:l}){if(l)return H;let u=[];return $!==""&&$!==null&&$!==void 0?u=await D($):u=await j(),u.map(c=>c.options?(c.options=c.options.map(y=>(y.selected=Array.isArray(this.state)?this.state.includes(y.value):this.state===y.value,y)),c):(c.selected=Array.isArray(this.state)?this.state.includes(c.value):this.state===c.value,c))},formatState:function($){return k?($??[]).map(l=>l?.toString()):$?.toString()},getMissingOptions:async function($){let l=this.formatState(this.state);if([null,void 0,"",[],{}].includes(l))return{};let u=new Set;return $.forEach(c=>{if(c.options){c.options.forEach(y=>u.add(y.value));return}u.add(c.value)}),k?l.every(c=>u.has(c))?{}:(await I()).filter(c=>!u.has(c.value)).map(c=>(c.selected=!0,c)):u.has(l)?u:[{label:await P(),value:l,selected:!0}]}}}export{ut as default};
/*! Bundled license information:

virtual-select-plugin/dist/virtual-select.min.js:
  (*!
   * Virtual Select v1.0.49
   * https://sa-si-dev.github.io/virtual-select
   * Licensed under MIT (https://github.com/sa-si-dev/virtual-select/blob/master/LICENSE)
   *)

tooltip-plugin/dist/tooltip.min.js:
  (*!
   * Tooltip v1.0.16
   * https://sa-si-dev.github.io/tooltip
   * Licensed under MIT (https://github.com/sa-si-dev/tooltip/blob/master/LICENSE)
   *)
*/
